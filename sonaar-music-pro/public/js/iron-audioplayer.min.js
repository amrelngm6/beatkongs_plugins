!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var Y;function h(){return Y.apply(null,arguments)}function l(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function $(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(f(e,t))return;return 1}function n(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function L(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function j(e,t){for(var a=[],s=0;s<e.length;++s)a.push(t(e[s],s));return a}function F(e,t){for(var a in t)f(t,a)&&(e[a]=t[a]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,a,s){return xt(e,t,a,s,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function H(e){if(null==e._isValid){var t=m(e),a=V.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function U(e){var t=c(NaN);return null!=e?F(m(t),e):m(t).userInvalidated=!0,t}var V=Array.prototype.some||function(e){for(var t=Object(this),a=t.length>>>0,s=0;s<a;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1},B=h.momentProperties=[],G=!1;function z(e,t){var a,s,r;if(n(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),n(t._i)||(e._i=t._i),n(t._f)||(e._f=t._f),n(t._l)||(e._l=t._l),n(t._strict)||(e._strict=t._strict),n(t._tzm)||(e._tzm=t._tzm),n(t._isUTC)||(e._isUTC=t._isUTC),n(t._offset)||(e._offset=t._offset),n(t._pf)||(e._pf=m(t)),n(t._locale)||(e._locale=t._locale),0<B.length)for(a=0;a<B.length;a++)n(r=t[s=B[a]])||(e[s]=r);return e}function q(e){z(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===G&&(G=!0,h.updateOffset(this),G=!1)}function o(e){return e instanceof q||null!=e&&null!=e._isAMomentObject}function Q(e){!1===h.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(r,i){var n=!0;return F(function(){if(null!=h.deprecationHandler&&h.deprecationHandler(null,r),n){for(var e,t,a=[],s=0;s<arguments.length;s++){if(e="","object"==typeof arguments[s]){for(t in e+="\n["+s+"] ",arguments[0])f(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[s];a.push(e)}Q(r+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}var Z={};function J(e,t){null!=h.deprecationHandler&&h.deprecationHandler(e,t),Z[e]||(Q(t),Z[e]=!0)}function u(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function X(e,t){var a,s=F({},e);for(a in t)f(t,a)&&($(e[a])&&$(t[a])?(s[a]={},F(s[a],e[a]),F(s[a],t[a])):null!=t[a]?s[a]=t[a]:delete s[a]);for(a in e)f(e,a)&&!f(t,a)&&$(e[a])&&(s[a]=F({},s[a]));return s}function K(e){null!=e&&this.set(e)}function i(e,t,a){var s=""+Math.abs(e);return(0<=e?a?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}h.suppressDeprecationWarnings=!1,h.deprecationHandler=null;var ee=Object.keys||function(e){var t,a=[];for(t in e)f(e,t)&&a.push(t);return a},te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,se={},re={};function s(e,t,a,s){var r="string"==typeof s?function(){return this[s]()}:s;e&&(re[e]=r),t&&(re[t[0]]=function(){return i(r.apply(this,arguments),t[1],t[2])}),a&&(re[a]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function ie(e,t){return e.isValid()?(t=ne(t,e.localeData()),se[t]=se[t]||function(s){for(var e,r=s.match(te),t=0,i=r.length;t<i;t++)re[r[t]]?r[t]=re[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",a=0;a<i;a++)t+=u(r[a])?r[a].call(e,s):r[a];return t}}(t),se[t](e)):e.localeData().invalidDate()}function ne(e,t){var a=5;function s(e){return t.longDateFormat(e)||e}for(ae.lastIndex=0;0<=a&&ae.test(e);)e=e.replace(ae,s),ae.lastIndex=0,--a;return e}var oe={};function t(e,t){var a=e.toLowerCase();oe[a]=oe[a+"s"]=oe[t]=e}function p(e){return"string"==typeof e?oe[e]||oe[e.toLowerCase()]:void 0}function le(e){var t,a,s={};for(a in e)f(e,a)&&(t=p(a))&&(s[t]=e[a]);return s}var de={};function a(e,t){de[e]=t}function ce(e){return e%4==0&&e%100!=0||e%400==0}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?y(e):t}function ue(t,a){return function(e){return null!=e?(he(this,t,e),h.updateOffset(this,a),this):pe(this,t)}}function pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,a){e.isValid()&&!isNaN(a)&&("FullYear"===t&&ce(e.year())&&1===e.month()&&29===e.date()?(a=_(a),e._d["set"+(e._isUTC?"UTC":"")+t](a,e.month(),De(a,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](a))}var r=/\d/,g=/\d\d/,fe=/\d{3}/,me=/\d{4}/,ye=/[+-]?\d{6}/,v=/\d\d?/,_e=/\d\d\d\d?/,ge=/\d\d\d\d\d\d?/,ve=/\d{1,3}/,ke=/\d{1,4}/,we=/[+-]?\d{1,6}/,be=/\d+/,Ce=/[+-]?\d+/,Pe=/Z|[+-]\d\d:?\d\d/gi,Oe=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function k(e,a,s){xe[e]=u(a)?a:function(e,t){return e&&s?s:a}}function w(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var xe={},Ne={};function b(e,a){var t,s=a;for("string"==typeof e&&(e=[e]),d(a)&&(s=function(e,t){t[a]=_(e)}),t=0;t<e.length;t++)Ne[e[t]]=s}function Ie(e,r){b(e,function(e,t,a,s){a._w=a._w||{},r(e,a._w,a,s)})}var C,P=0,O=1,R=2,x=3,N=4,I=5,Se=6,Te=7,Me=8;function De(e,t){return isNaN(e)||isNaN(t)?NaN:(e+=(t-(t=(t%12+12)%12))/12,1==t?ce(e)?29:28:31-t%7%2)}C=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},s("M",["MM",2],"Mo",function(){return this.month()+1}),s("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),s("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),a("month",8),k("M",v),k("MM",v,g),k("MMM",function(e,t){return t.monthsShortRegex(e)}),k("MMMM",function(e,t){return t.monthsRegex(e)}),b(["M","MM"],function(e,t){t[O]=_(e)-1}),b(["MMM","MMMM"],function(e,t,a,s){s=a._locale.monthsParse(e,s,a._strict);null!=s?t[O]=s:m(a).invalidMonth=e});var Ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ye=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,$e=Re,We=Re;function Le(e,t){var a;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(!d(t=e.localeData().monthsParse(t)))return;a=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,a)}}function je(e){return null!=e?(Le(this,e),h.updateOffset(this,!0),this):pe(this,"Month")}function Fe(){function e(e,t){return t.length-e.length}for(var t,a=[],s=[],r=[],i=0;i<12;i++)t=c([2e3,i]),a.push(this.monthsShort(t,"")),s.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(a.sort(e),s.sort(e),r.sort(e),i=0;i<12;i++)a[i]=w(a[i]),s[i]=w(s[i]);for(i=0;i<24;i++)r[i]=w(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function He(e){return ce(e)?366:365}s("Y",0,0,function(){var e=this.year();return e<=9999?i(e,4):"+"+e}),s(0,["YY",2],0,function(){return this.year()%100}),s(0,["YYYY",4],0,"year"),s(0,["YYYYY",5],0,"year"),s(0,["YYYYYY",6,!0],0,"year"),t("year","y"),a("year",1),k("Y",Ce),k("YY",v,g),k("YYYY",ke,me),k("YYYYY",we,ye),k("YYYYYY",we,ye),b(["YYYYY","YYYYYY"],P),b("YYYY",function(e,t){t[P]=2===e.length?h.parseTwoDigitYear(e):_(e)}),b("YY",function(e,t){t[P]=h.parseTwoDigitYear(e)}),b("Y",function(e,t){t[P]=parseInt(e,10)}),h.parseTwoDigitYear=function(e){return _(e)+(68<_(e)?1900:2e3)};var Ue=ue("FullYear",!0);function Ve(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Be(e,t,a){a=7+t-a;return a-(7+Ve(e,0,a).getUTCDay()-t)%7-1}function Ge(e,t,a,s,r){var i,t=1+7*(t-1)+(7+a-s)%7+Be(e,s,r),a=t<=0?He(i=e-1)+t:t>He(e)?(i=e+1,t-He(e)):(i=e,t);return{year:i,dayOfYear:a}}function ze(e,t,a){var s,r,i=Be(e.year(),t,a),i=Math.floor((e.dayOfYear()-i-1)/7)+1;return i<1?s=i+S(r=e.year()-1,t,a):i>S(e.year(),t,a)?(s=i-S(e.year(),t,a),r=e.year()+1):(r=e.year(),s=i),{week:s,year:r}}function S(e,t,a){var s=Be(e,t,a),t=Be(e+1,t,a);return(He(e)-s+t)/7}function qe(e,t){return e.slice(t,7).concat(e.slice(0,t))}s("w",["ww",2],"wo","week"),s("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),a("week",5),a("isoWeek",5),k("w",v),k("ww",v,g),k("W",v),k("WW",v,g),Ie(["w","ww","W","WW"],function(e,t,a,s){t[s.substr(0,1)]=_(e)}),s("d",0,"do","day"),s("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),s("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),s("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),s("e",0,0,"weekday"),s("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),a("day",11),a("weekday",11),a("isoWeekday",11),k("d",v),k("e",v),k("E",v),k("dd",function(e,t){return t.weekdaysMinRegex(e)}),k("ddd",function(e,t){return t.weekdaysShortRegex(e)}),k("dddd",function(e,t){return t.weekdaysRegex(e)}),Ie(["dd","ddd","dddd"],function(e,t,a,s){s=a._locale.weekdaysParse(e,s,a._strict);null!=s?t.d=s:m(a).invalidWeekday=e}),Ie(["d","e","E"],function(e,t,a,s){t[s]=_(e)});var Qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Je="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Xe=Re,Ke=Re,et=Re;function tt(){function e(e,t){return t.length-e.length}for(var t,a,s,r=[],i=[],n=[],o=[],l=0;l<7;l++)s=c([2e3,1]).day(l),t=w(this.weekdaysMin(s,"")),a=w(this.weekdaysShort(s,"")),s=w(this.weekdays(s,"")),r.push(t),i.push(a),n.push(s),o.push(t),o.push(a),o.push(s);r.sort(e),i.sort(e),n.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function at(){return this.hours()%12||12}function st(e,t){s(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rt(e,t){return t._meridiemParse}s("H",["HH",2],0,"hour"),s("h",["hh",2],0,at),s("k",["kk",2],0,function(){return this.hours()||24}),s("hmm",0,0,function(){return""+at.apply(this)+i(this.minutes(),2)}),s("hmmss",0,0,function(){return""+at.apply(this)+i(this.minutes(),2)+i(this.seconds(),2)}),s("Hmm",0,0,function(){return""+this.hours()+i(this.minutes(),2)}),s("Hmmss",0,0,function(){return""+this.hours()+i(this.minutes(),2)+i(this.seconds(),2)}),st("a",!0),st("A",!1),t("hour","h"),a("hour",13),k("a",rt),k("A",rt),k("H",v),k("h",v),k("k",v),k("HH",v,g),k("hh",v,g),k("kk",v,g),k("hmm",_e),k("hmmss",ge),k("Hmm",_e),k("Hmmss",ge),b(["H","HH"],x),b(["k","kk"],function(e,t,a){e=_(e);t[x]=24===e?0:e}),b(["a","A"],function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e}),b(["h","hh"],function(e,t,a){t[x]=_(e),m(a).bigHour=!0}),b("hmm",function(e,t,a){var s=e.length-2;t[x]=_(e.substr(0,s)),t[N]=_(e.substr(s)),m(a).bigHour=!0}),b("hmmss",function(e,t,a){var s=e.length-4,r=e.length-2;t[x]=_(e.substr(0,s)),t[N]=_(e.substr(s,2)),t[I]=_(e.substr(r)),m(a).bigHour=!0}),b("Hmm",function(e,t,a){var s=e.length-2;t[x]=_(e.substr(0,s)),t[N]=_(e.substr(s))}),b("Hmmss",function(e,t,a){var s=e.length-4,r=e.length-2;t[x]=_(e.substr(0,s)),t[N]=_(e.substr(s,2)),t[I]=_(e.substr(r))});var it,Re=ue("Hours",!0),nt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"00:00",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ee,monthsShort:Ae,week:{dow:0,doy:6},weekdays:Qe,weekdaysMin:Je,weekdaysShort:Ze,meridiemParse:/[ap]\.?m?\.?/i},T={},ot={};function lt(e){return e&&e.toLowerCase().replace("_","-")}function dt(e){var t;if(void 0===T[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=it._abbr,require("./locale/"+e),ct(t)}catch(t){T[e]=null}return T[e]}function ct(e,t){return e&&((t=n(t)?M(e):ut(e,t))?it=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),it._abbr}function ut(e,t){if(null===t)return delete T[e],null;var a,s=nt;if(t.abbr=e,null!=T[e])J("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=T[e]._config;else if(null!=t.parentLocale)if(null!=T[t.parentLocale])s=T[t.parentLocale]._config;else{if(null==(a=dt(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;s=a._config}return T[e]=new K(X(s,t)),ot[e]&&ot[e].forEach(function(e){ut(e.name,e.config)}),ct(e),T[e]}function M(e){var t;if(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e){if(!l(e)){if(t=dt(e))return t;e=[e]}for(var a,s,r,i,n=e,o=0;o<n.length;){for(a=(i=lt(n[o]).split("-")).length,s=(s=lt(n[o+1]))?s.split("-"):null;0<a;){if(r=dt(i.slice(0,a).join("-")))return r;if(s&&s.length>=a&&function(e,t){for(var a=Math.min(e.length,t.length),s=0;s<a;s+=1)if(e[s]!==t[s])return s;return a}(i,s)>=a-1)break;a--}o++}}return it}function pt(e){var t=e._a;return t&&-2===m(e).overflow&&(t=t[O]<0||11<t[O]?O:t[R]<1||t[R]>De(t[P],t[O])?R:t[x]<0||24<t[x]||24===t[x]&&(0!==t[N]||0!==t[I]||0!==t[Se])?x:t[N]<0||59<t[N]?N:t[I]<0||59<t[I]?I:t[Se]<0||999<t[Se]?Se:-1,m(e)._overflowDayOfYear&&(t<P||R<t)&&(t=R),m(e)._overflowWeeks&&-1===t&&(t=Te),m(e)._overflowWeekday&&-1===t&&(t=Me),m(e).overflow=t),e}var ht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((-?\d+)/i,vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,kt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,a,s,r,i,n,o=e._i,l=ht.exec(o)||ft.exec(o);if(l){for(m(e).iso=!0,t=0,a=yt.length;t<a;t++)if(yt[t][1].exec(l[1])){r=yt[t][0],s=!1!==yt[t][2];break}if(null==r)return e._isValid=!1;if(l[3]){for(t=0,a=_t.length;t<a;t++)if(_t[t][1].exec(l[3])){i=(l[2]||" ")+_t[t][0];break}if(null==i)return e._isValid=!1}if(!s&&null!=i)return e._isValid=!1;if(l[4]){if(!mt.exec(l[4]))return e._isValid=!1;n="Z"}e._f=r+(i||"")+(n||""),Ot(e)}else e._isValid=!1}function bt(e){var t,a,s,r,i,n,o=vt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));o?(t=o[4],a=o[3],s=o[2],r=o[5],i=o[6],n=o[7],t=[(t=parseInt(t,10))<=49?2e3+t:t<=999?1900+t:t,Ae.indexOf(a),parseInt(s,10),parseInt(r,10),parseInt(i,10)],n&&t.push(parseInt(n,10)),s=a=t,r=e,(i=o[1])&&Ze.indexOf(i)!==new Date(s[0],s[1],s[2]).getDay()?(m(r).weekdayMismatch=!0,r._isValid=!1):(e._a=a,e._tzm=(n=o[8],t=o[9],i=o[10],n?kt[n]:t?0:((n=parseInt(i,10))-(t=n%100))/100*60+t),e._d=Ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0)):e._isValid=!1}function Ct(e,t,a){return null!=e?e:null!=t?t:a}function Pt(e){var t,a,s,r,i,n,o,l,d,c,u,p=[];if(!e._d){for(s=e,r=new Date(h.now()),a=s._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],e._w&&null==e._a[R]&&null==e._a[O]&&(null!=(r=(s=e)._w).GG||null!=r.W||null!=r.E?(l=1,d=4,i=Ct(r.GG,s._a[P],ze(D(),1,4).year),n=Ct(r.W,1),((o=Ct(r.E,1))<1||7<o)&&(c=!0)):(l=s._locale._week.dow,d=s._locale._week.doy,u=ze(D(),l,d),i=Ct(r.gg,s._a[P],u.year),n=Ct(r.w,u.week),null!=r.d?((o=r.d)<0||6<o)&&(c=!0):null!=r.e?(o=r.e+l,(r.e<0||6<r.e)&&(c=!0)):o=l),n<1||n>S(i,l,d)?m(s)._overflowWeeks=!0:null!=c?m(s)._overflowWeekday=!0:(u=Ge(i,n,o,l,d),s._a[P]=u.year,s._dayOfYear=u.dayOfYear)),null!=e._dayOfYear&&(r=Ct(e._a[P],a[P]),(e._dayOfYear>He(r)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),c=Ve(r,0,e._dayOfYear),e._a[O]=c.getUTCMonth(),e._a[R]=c.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=p[t]=a[t];for(;t<7;t++)e._a[t]=p[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[x]&&0===e._a[N]&&0===e._a[I]&&0===e._a[Se]&&(e._nextDay=!0,e._a[x]=0),e._d=(e._useUTC?Ve:function(e,t,a,s,r,i,n){var o;return e<100&&0<=e?(o=new Date(e+400,t,a,s,r,i,n),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,a,s,r,i,n),o}).apply(null,p),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[x]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Ot(e){if(e._f!==h.ISO_8601)if(e._f!==h.RFC_2822){e._a=[],m(e).empty=!0;for(var t,a,s,r=""+e._i,i=r.length,n=0,o=ne(e._f,e._locale).match(te)||[],l=0;l<o.length;l++)t=o[l],(p=(r.match((p=e,f(xe,u=t)?xe[u](p._strict,p._locale):new RegExp(w(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,a,s,r){return t||a||s||r})))))||[])[0])&&(0<(u=r.substr(0,r.indexOf(p))).length&&m(e).unusedInput.push(u),r=r.slice(r.indexOf(p)+p.length),n+=p.length),re[t]?(p?m(e).empty=!1:m(e).unusedTokens.push(t),u=t,s=e,null!=(a=p)&&f(Ne,u)&&Ne[u](a,s._a,s,u)):e._strict&&!p&&m(e).unusedTokens.push(t);m(e).charsLeftOver=i-n,0<r.length&&m(e).unusedInput.push(r),e._a[x]<=12&&!0===m(e).bigHour&&0<e._a[x]&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[x]=(i=e._locale,d=e._a[x],null==(c=e._meridiem)?d:null!=i.meridiemHour?i.meridiemHour(d,c):(null!=i.isPM&&((i=i.isPM(c))&&d<12&&(d+=12),i||12!==d||(d=0)),d)),null!==(c=m(e).era)&&(e._a[P]=e._locale.erasConvertYear(c,e._a[P])),Pt(e),pt(e)}else bt(e);else wt(e);var d,c,u,p}function Rt(e){var t,a,s,r=e._i,i=e._f;return e._locale=e._locale||M(e._l),null===r||void 0===i&&""===r?U({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),o(r)?new q(pt(r)):(L(r)?e._d=r:l(i)?function(e){var t,a,s,r,i,n,o=!1;if(0===e._f.length)return m(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)i=0,n=!1,t=z({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Ot(t),H(t)&&(n=!0),i=(i+=m(t).charsLeftOver)+10*m(t).unusedTokens.length,m(t).score=i,o?i<s&&(s=i,a=t):(null==s||i<s||n)&&(s=i,a=t,n)&&(o=!0);F(e,a||t)}(e):i?Ot(e):n(i=(r=e)._i)?r._d=new Date(h.now()):L(i)?r._d=new Date(i.valueOf()):"string"==typeof i?(a=r,null===(s=gt.exec(a._i))?(wt(a),!1===a._isValid&&(delete a._isValid,bt(a),!1===a._isValid)&&(delete a._isValid,a._strict?a._isValid=!1:h.createFromInputFallback(a))):a._d=new Date(+s[1])):l(i)?(r._a=j(i.slice(0),function(e){return parseInt(e,10)}),Pt(r)):$(i)?(a=r)._d||(t=void 0===(s=le(a._i)).day?s.date:s.day,a._a=j([s.year,s.month,t,s.hour,s.minute,s.second,s.millisecond],function(e){return e&&parseInt(e,10)}),Pt(a)):d(i)?r._d=new Date(i):h.createFromInputFallback(r),H(e)||(e._d=null),e))}function xt(e,t,a,s,r){var i={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==a&&!1!==a||(s=a,a=void 0),($(e)&&W(e)||l(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=a,i._i=e,i._f=t,i._strict=s,(r=new q(pt(Rt(i))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function D(e,t,a,s){return xt(e,t,a,s,!1)}h.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),h.ISO_8601=function(){},h.RFC_2822=function(){};_e=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=D.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:U()}),ge=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=D.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:U()});function Nt(e,t){var a,s;if(!(t=1===t.length&&l(t[0])?t[0]:t).length)return D();for(a=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](a)||(a=t[s]);return a}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function St(e){var e=le(e),t=e.year||0,a=e.quarter||0,s=e.month||0,r=e.week||e.isoWeek||0,i=e.day||0,n=e.hour||0,o=e.minute||0,l=e.second||0,d=e.millisecond||0;this._isValid=function(e){var t,a,s=!1;for(t in e)if(f(e,t)&&(-1===C.call(It,t)||null!=e[t]&&isNaN(e[t])))return!1;for(a=0;a<It.length;++a)if(e[It[a]]){if(s)return!1;parseFloat(e[It[a]])!==_(e[It[a]])&&(s=!0)}return!0}(e),this._milliseconds=+d+1e3*l+6e4*o+1e3*n*60*60,this._days=+i+7*r,this._months=+s+3*a+12*t,this._data={},this._locale=M(),this._bubble()}function Tt(e){return e instanceof St}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,a){s(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+i(~~(e/60),2)+a+i(~~e%60,2)})}Dt("Z",":"),Dt("ZZ",""),k("Z",Oe),k("ZZ",Oe),b(["Z","ZZ"],function(e,t,a){a._useUTC=!0,a._tzm=At(Oe,e)});var Et=/([\+\-]|\d\d)/gi;function At(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Et)||["-",0,0])[1]+_(e[2]))?0:"+"===e[0]?t:-t}function Yt(e,t){var a;return t._isUTC?(t=t.clone(),a=(o(e)||L(e)?e:D(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+a),h.updateOffset(t,!1),t):D(e).local()}function $t(e){return-Math.round(e._d.getTimezoneOffset())}function Wt(){return!!this.isValid()&&this._isUTC&&0===this._offset}h.updateOffset=function(){};var Lt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function E(e,t){var a,s,r=e;return Tt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(t=Lt.exec(e))?(a="-"===t[1]?-1:1,r={y:0,d:_(t[R])*a,h:_(t[x])*a,m:_(t[N])*a,s:_(t[I])*a,ms:_(Mt(1e3*t[Se]))*a}):(t=jt.exec(e))?(a="-"===t[1]?-1:1,r={y:Ft(t[2],a),M:Ft(t[3],a),w:Ft(t[4],a),d:Ft(t[5],a),h:Ft(t[6],a),m:Ft(t[7],a),s:Ft(t[8],a)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(t=D(r.from),a=D(r.to),t=t.isValid()&&a.isValid()?(a=Yt(a,t),t.isBefore(a)?s=Ht(t,a):((s=Ht(a,t)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(r={}).ms=t.milliseconds,r.M=t.months),s=new St(r),Tt(e)&&f(e,"_locale")&&(s._locale=e._locale),Tt(e)&&f(e,"_isValid")&&(s._isValid=e._isValid),s}function Ft(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Ht(e,t){var a={};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=t-e.clone().add(a.months,"M"),a}function Ut(s,r){return function(e,t){var a;return null===t||isNaN(+t)||(J(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=e,e=t,t=a),Vt(this,E(e,t),s),this}}function Vt(e,t,a,s){var r=t._milliseconds,i=Mt(t._days),t=Mt(t._months);e.isValid()&&(s=null==s||s,t&&Le(e,pe(e,"Month")+t*a),i&&he(e,"Date",pe(e,"Date")+i*a),r&&e._d.setTime(e._d.valueOf()+r*a),s)&&h.updateOffset(e,i||t)}E.fn=St.prototype,E.invalid=function(){return E(NaN)};Ee=Ut(1,"add"),Qe=Ut(-1,"subtract");function Bt(e){return"string"==typeof e||e instanceof String}function Gt(e,t){var a,s;return e.date()<t.date()?-Gt(t,e):-((a=12*(t.year()-e.year())+(t.month()-e.month()))+(t-(s=e.clone().add(a,"months"))<0?(t-s)/(s-e.clone().add(a-1,"months")):(t-s)/(e.clone().add(1+a,"months")-s)))||0}function zt(e){return void 0===e?this._locale._abbr:(null!=(e=M(e))&&(this._locale=e),this)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",h.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Je=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function qt(){return this._locale}var Qt=126227808e5;function Zt(e,t){return(e%t+t)%t}function Jt(e,t,a){return e<100&&0<=e?new Date(e+400,t,a)-Qt:new Date(e,t,a).valueOf()}function Xt(e,t,a){return e<100&&0<=e?Date.UTC(e+400,t,a)-Qt:Date.UTC(e,t,a)}function Kt(e,t){return t.erasAbbrRegex(e)}function ea(){for(var e=[],t=[],a=[],s=[],r=this.eras(),i=0,n=r.length;i<n;++i)t.push(w(r[i].name)),e.push(w(r[i].abbr)),a.push(w(r[i].narrow)),s.push(w(r[i].name)),s.push(w(r[i].abbr)),s.push(w(r[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function ta(e,t){s(0,[e,e.length],0,t)}function aa(e,t,a,s,r){var i;return null==e?ze(this,s,r).year:((i=S(e,s,r))<t&&(t=i),function(e,t,a,s,r){e=Ge(e,t,a,s,r),t=Ve(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t,a,s,r))}s("N",0,0,"eraAbbr"),s("NN",0,0,"eraAbbr"),s("NNN",0,0,"eraAbbr"),s("NNNN",0,0,"eraName"),s("NNNNN",0,0,"eraNarrow"),s("y",["y",1],"yo","eraYear"),s("y",["yy",2],0,"eraYear"),s("y",["yyy",3],0,"eraYear"),s("y",["yyyy",4],0,"eraYear"),k("N",Kt),k("NN",Kt),k("NNN",Kt),k("NNNN",function(e,t){return t.erasNameRegex(e)}),k("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),b(["N","NN","NNN","NNNN","NNNNN"],function(e,t,a,s){s=a._locale.erasParse(e,s,a._strict);s?m(a).era=s:m(a).invalidEra=e}),k("y",be),k("yy",be),k("yyy",be),k("yyyy",be),k("yo",function(e,t){return t._eraYearOrdinalRegex||be}),b(["y","yy","yyy","yyyy"],P),b(["yo"],function(e,t,a,s){var r;a._locale._eraYearOrdinalRegex&&(r=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[P]=a._locale.eraYearOrdinalParse(e,r):t[P]=parseInt(e,10)}),s(0,["gg",2],0,function(){return this.weekYear()%100}),s(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ta("gggg","weekYear"),ta("ggggg","weekYear"),ta("GGGG","isoWeekYear"),ta("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),a("weekYear",1),a("isoWeekYear",1),k("G",Ce),k("g",Ce),k("GG",v,g),k("gg",v,g),k("GGGG",ke,me),k("gggg",ke,me),k("GGGGG",we,ye),k("ggggg",we,ye),Ie(["gggg","ggggg","GGGG","GGGGG"],function(e,t,a,s){t[s.substr(0,2)]=_(e)}),Ie(["gg","GG"],function(e,t,a,s){t[s]=h.parseTwoDigitYear(e)}),s("Q",0,"Qo","quarter"),t("quarter","Q"),a("quarter",7),k("Q",r),b("Q",function(e,t){t[O]=3*(_(e)-1)}),s("D",["DD",2],"Do","date"),t("date","D"),a("date",9),k("D",v),k("DD",v,g),k("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),b(["D","DD"],R),b("Do",function(e,t){t[R]=_(e.match(v)[0])});ke=ue("Date",!0),s("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),a("dayOfYear",4),k("DDD",ve),k("DDDD",fe),b(["DDD","DDDD"],function(e,t,a){a._dayOfYear=_(e)}),s("m",["mm",2],0,"minute"),t("minute","m"),a("minute",14),k("m",v),k("mm",v,g),b(["m","mm"],N),me=ue("Minutes",!1);s("s",["ss",2],0,"second"),t("second","s"),a("second",15),k("s",v),k("ss",v,g),b(["s","ss"],I);var sa,we=ue("Seconds",!1);for(s("S",0,0,function(){return~~(this.millisecond()/100)}),s(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),s(0,["SSS",3],0,"millisecond"),s(0,["SSSS",4],0,function(){return 10*this.millisecond()}),s(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),s(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),s(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),s(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),s(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),a("millisecond",16),k("S",ve,r),k("SS",ve,g),k("SSS",ve,fe),sa="SSSS";sa.length<=9;sa+="S")k(sa,be);function ra(e,t){t[Se]=_(1e3*("0."+e))}for(sa="S";sa.length<=9;sa+="S")b(sa,ra);ye=ue("Milliseconds",!1),s("z",0,0,"zoneAbbr"),s("zz",0,0,"zoneName");r=q.prototype;function ia(e){return e}r.add=Ee,r.calendar=function(e,t){1===arguments.length&&(arguments[0]?o(i=arguments[0])||L(i)||Bt(i)||d(i)||(s=l(a=i),r=!1,s&&(r=0===a.filter(function(e){return!d(e)&&Bt(a)}).length),s&&r)||function(e){for(var t=$(e)&&!W(e),a=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r=0;r<s.length;r+=1)a=a||f(e,s[r]);return t&&a}(i)||null==i?(e=arguments[0],t=void 0):function(e){for(var t=$(e)&&!W(e),a=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r=0;r<s.length;r+=1)a=a||f(e,s[r]);return t&&a}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var a,s=e||D(),r=Yt(s,this).startOf("day"),i=h.calendarFormat(this,r)||"sameElse",e=t&&(u(t[i])?t[i].call(this,s):t[i]);return this.format(e||this.localeData().calendar(i,this,D(s)))},r.clone=function(){return new q(this)},r.diff=function(e,t,a){var s,r,i;if(!this.isValid())return NaN;if(!(s=Yt(e,this)).isValid())return NaN;switch(r=6e4*(s.utcOffset()-this.utcOffset()),t=p(t)){case"year":i=Gt(this,s)/12;break;case"month":i=Gt(this,s);break;case"quarter":i=Gt(this,s)/3;break;case"second":i=(this-s)/1e3;break;case"minute":i=(this-s)/6e4;break;case"hour":i=(this-s)/36e5;break;case"day":i=(this-s-r)/864e5;break;case"week":i=(this-s-r)/6048e5;break;default:i=this-s}return a?i:y(i)},r.endOf=function(e){var t,a;if(void 0!==(e=p(e))&&"millisecond"!==e&&this.isValid()){switch(a=this._isUTC?Xt:Jt,e){case"year":t=a(this.year()+1,0,1)-1;break;case"quarter":t=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=a(this.year(),this.month()+1,1)-1;break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Zt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Zt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Zt(t,1e3)-1}this._d.setTime(t),h.updateOffset(this,!0)}return this},r.format=function(e){e=e||(this.isUtc()?h.defaultFormatUtc:h.defaultFormat);e=ie(this,e);return this.localeData().postformat(e)},r.from=function(e,t){return this.isValid()&&(o(e)&&e.isValid()||D(e).isValid())?E({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.fromNow=function(e){return this.from(D(),e)},r.to=function(e,t){return this.isValid()&&(o(e)&&e.isValid()||D(e).isValid())?E({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.toNow=function(e){return this.to(D(),e)},r.get=function(e){return u(this[e=p(e)])?this[e]():this},r.invalidAt=function(){return m(this).overflow},r.isAfter=function(e,t){e=o(e)?e:D(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=p(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},r.isBefore=function(e,t){e=o(e)?e:D(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=p(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},r.isBetween=function(e,t,a,s){e=o(e)?e:D(e),t=o(t)?t:D(t);return!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(s=s||"()")[0]?this.isAfter(e,a):!this.isBefore(e,a))&&(")"===s[1]?this.isBefore(t,a):!this.isAfter(t,a))},r.isSame=function(e,t){var e=o(e)?e:D(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=p(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},r.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},r.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},r.isValid=function(){return H(this)},r.lang=Je,r.locale=zt,r.localeData=qt,r.max=ge,r.min=_e,r.parsingFlags=function(){return F({},m(this))},r.set=function(e,t){if("object"==typeof e)for(var a=function(e){var t,a=[];for(t in e)f(e,t)&&a.push({unit:t,priority:de[t]});return a.sort(function(e,t){return e.priority-t.priority}),a}(e=le(e)),s=0;s<a.length;s++)this[a[s].unit](e[a[s].unit]);else if(u(this[e=p(e)]))return this[e](t);return this},r.startOf=function(e){var t,a;if(void 0!==(e=p(e))&&"millisecond"!==e&&this.isValid()){switch(a=this._isUTC?Xt:Jt,e){case"year":t=a(this.year(),0,1);break;case"quarter":t=a(this.year(),this.month()-this.month()%3,1);break;case"month":t=a(this.year(),this.month(),1);break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=a(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Zt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Zt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Zt(t,1e3)}this._d.setTime(t),h.updateOffset(this,!0)}return this},r.subtract=Qe,r.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},r.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},r.toDate=function(){return new Date(this.valueOf())},r.toISOString=function(e){var t;return this.isValid()?(t=(e=!0!==e)?this.clone().utc():this).year()<0||9999<t.year()?ie(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):u(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ie(t,"Z")):ie(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ"):null},r.inspect=function(){var e,t,a;return this.isValid()?(t="moment",a="",this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),t="["+t+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+(a+'[")]'))):"moment.invalid(/* "+this._i+" */)"},"undefined"!=typeof Symbol&&null!=Symbol.for&&(r[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},r.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},r.eraName=function(){for(var e,t=this.localeData().eras(),a=0,s=t.length;a<s;++a){if(e=this.clone().startOf("day").valueOf(),t[a].since<=e&&e<=t[a].until)return t[a].name;if(t[a].until<=e&&e<=t[a].since)return t[a].name}return""},r.eraNarrow=function(){for(var e,t=this.localeData().eras(),a=0,s=t.length;a<s;++a){if(e=this.clone().startOf("day").valueOf(),t[a].since<=e&&e<=t[a].until)return t[a].narrow;if(t[a].until<=e&&e<=t[a].since)return t[a].narrow}return""},r.eraAbbr=function(){for(var e,t=this.localeData().eras(),a=0,s=t.length;a<s;++a){if(e=this.clone().startOf("day").valueOf(),t[a].since<=e&&e<=t[a].until)return t[a].abbr;if(t[a].until<=e&&e<=t[a].since)return t[a].abbr}return""},r.eraYear=function(){for(var e,t,a=this.localeData().eras(),s=0,r=a.length;s<r;++s)if(e=a[s].since<=a[s].until?1:-1,t=this.clone().startOf("day").valueOf(),a[s].since<=t&&t<=a[s].until||a[s].until<=t&&t<=a[s].since)return(this.year()-h(a[s].since).year())*e+a[s].offset;return this.year()},r.year=Ue,r.isLeapYear=function(){return ce(this.year())},r.weekYear=function(e){return aa.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},r.isoWeekYear=function(e){return aa.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},r.quarter=r.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},r.month=je,r.daysInMonth=function(){return De(this.year(),this.month())},r.week=r.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},r.isoWeek=r.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},r.weeksInYear=function(){var e=this.localeData()._week;return S(this.year(),e.dow,e.doy)},r.weeksInWeekYear=function(){var e=this.localeData()._week;return S(this.weekYear(),e.dow,e.doy)},r.isoWeeksInYear=function(){return S(this.year(),1,4)},r.isoWeeksInISOWeekYear=function(){return S(this.isoWeekYear(),1,4)},r.date=ke,r.day=r.days=function(e){var t,a,s;return this.isValid()?(s=this._isUTC?this._d.getUTCDay():this._d.getDay(),null!=e?(t=e,a=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=a.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s):null!=e?this:NaN},r.weekday=function(e){var t;return this.isValid()?(t=(this.day()+7-this.localeData()._week.dow)%7,null==e?t:this.add(e-t,"d")):null!=e?this:NaN},r.isoWeekday=function(e){var t,a;return this.isValid()?null==e?this.day()||7:(t=e,a=this.localeData(),a="string"==typeof t?a.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?a:a-7)):null!=e?this:NaN},r.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},r.hour=r.hours=Re,r.minute=r.minutes=me,r.second=r.seconds=we,r.millisecond=r.milliseconds=ye,r.utcOffset=function(e,t,a){var s,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:$t(this);if("string"==typeof e){if(null===(e=At(Oe,e)))return this}else Math.abs(e)<16&&!a&&(e*=60);return!this._isUTC&&t&&(s=$t(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?Vt(this,E(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this},r.utc=function(e){return this.utcOffset(0,e)},r.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract($t(this),"m"),this},r.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=At(Pe,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},r.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?D(e).utcOffset():0,(this.utcOffset()-e)%60==0)},r.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},r.isLocal=function(){return!!this.isValid()&&!this._isUTC},r.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},r.isUtc=Wt,r.isUTC=Wt,r.zoneAbbr=function(){return this._isUTC?"UTC":""},r.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},r.dates=e("dates accessor is deprecated. Use date instead.",ke),r.months=e("months accessor is deprecated. Use month instead",je),r.years=e("years accessor is deprecated. Use year instead",Ue),r.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),r.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return n(this._isDSTShifted)&&(z(t={},this),(t=Rt(t))._a?(e=(t._isUTC?c:D)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t){for(var a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0,i=0;i<a;i++)_(e[i])!==_(t[i])&&r++;return r+s}(t._a,e.toArray())):this._isDSTShifted=!1),this._isDSTShifted});g=K.prototype;function na(e,t,a,s){var r=M(),s=c().set(s,t);return r[a](s,e)}function oa(e,t,a){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return na(e,t,a,"month");for(var s=[],r=0;r<12;r++)s[r]=na(e,r,a,"month");return s}function la(e,t,a,s){"boolean"==typeof e?d(t)&&(a=t,t=void 0):(t=e,e=!1,d(a=t)&&(a=t,t=void 0)),t=t||"";var r,i=M(),n=e?i._week.dow:0,o=[];if(null!=a)return na(t,(a+n)%7,s,"day");for(r=0;r<7;r++)o[r]=na(t,(r+n)%7,s,"day");return o}g.calendar=function(e,t,a){e=this._calendar[e]||this._calendar.sameElse;return u(e)?e.call(t,a):e},g.longDateFormat=function(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},g.invalidDate=function(){return this._invalidDate},g.ordinal=function(e){return this._ordinal.replace("%d",e)},g.preparse=ia,g.postformat=ia,g.relativeTime=function(e,t,a,s){var r=this._relativeTime[a];return u(r)?r(e,t,a,s):r.replace(/%d/i,e)},g.pastFuture=function(e,t){e=this._relativeTime[0<e?"future":"past"];return u(e)?e(t):e.replace(/%s/i,t)},g.set=function(e){var t,a;for(a in e)f(e,a)&&(u(t=e[a])?this[a]=t:this["_"+a]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},g.eras=function(e,t){for(var a,s=this._eras||M("en")._eras,r=0,i=s.length;r<i;++r)switch("string"==typeof s[r].since&&(a=h(s[r].since).startOf("day"),s[r].since=a.valueOf()),typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":a=h(s[r].until).startOf("day").valueOf(),s[r].until=a.valueOf()}return s},g.erasParse=function(e,t,a){var s,r,i,n,o,l=this.eras();for(e=e.toUpperCase(),s=0,r=l.length;s<r;++s)if(i=l[s].name.toUpperCase(),n=l[s].abbr.toUpperCase(),o=l[s].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(n===e)return l[s];break;case"NNNN":if(i===e)return l[s];break;case"NNNNN":if(o===e)return l[s]}else if(0<=[i,n,o].indexOf(e))return l[s]},g.erasConvertYear=function(e,t){var a=e.since<=e.until?1:-1;return void 0===t?h(e.since).year():h(e.since).year()+(t-e.offset)*a},g.erasAbbrRegex=function(e){return f(this,"_erasAbbrRegex")||ea.call(this),e?this._erasAbbrRegex:this._erasRegex},g.erasNameRegex=function(e){return f(this,"_erasNameRegex")||ea.call(this),e?this._erasNameRegex:this._erasRegex},g.erasNarrowRegex=function(e){return f(this,"_erasNarrowRegex")||ea.call(this),e?this._erasNarrowRegex:this._erasRegex},g.months=function(e,t){return e?(l(this._months)?this._months:this._months[(this._months.isFormat||Ye).test(t)?"format":"standalone"])[e.month()]:l(this._months)?this._months:this._months.standalone},g.monthsShort=function(e,t){return e?(l(this._monthsShort)?this._monthsShort:this._monthsShort[Ye.test(t)?"format":"standalone"])[e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},g.monthsParse=function(e,t,a){var s,r;if(this._monthsParseExact)return function(e,t,a){var s,r,i,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)i=c([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(i,"").toLocaleLowerCase();return a?"MMM"===t?-1!==(r=C.call(this._shortMonthsParse,e))?r:null:-1!==(r=C.call(this._longMonthsParse,e))?r:null:"MMM"===t?-1!==(r=C.call(this._shortMonthsParse,e))||-1!==(r=C.call(this._longMonthsParse,e))?r:null:-1!==(r=C.call(this._longMonthsParse,e))||-1!==(r=C.call(this._shortMonthsParse,e))?r:null}.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(r=c([2e3,s]),a&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),a||this._monthsParse[s]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(a&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!a&&this._monthsParse[s].test(e))return s}},g.monthsRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=We),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},g.monthsShortRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=$e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},g.week=function(e){return ze(e,this._week.dow,this._week.doy).week},g.firstDayOfYear=function(){return this._week.doy},g.firstDayOfWeek=function(){return this._week.dow},g.weekdays=function(e,t){t=l(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?qe(t,this._week.dow):e?t[e.day()]:t},g.weekdaysMin=function(e){return!0===e?qe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},g.weekdaysShort=function(e){return!0===e?qe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},g.weekdaysParse=function(e,t,a){var s,r;if(this._weekdaysParseExact)return function(e,t,a){var s,r,i,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)i=c([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(i,"").toLocaleLowerCase();return a?"dddd"===t?-1!==(r=C.call(this._weekdaysParse,e))?r:null:"ddd"===t?-1!==(r=C.call(this._shortWeekdaysParse,e))?r:null:-1!==(r=C.call(this._minWeekdaysParse,e))?r:null:"dddd"===t?-1!==(r=C.call(this._weekdaysParse,e))||-1!==(r=C.call(this._shortWeekdaysParse,e))||-1!==(r=C.call(this._minWeekdaysParse,e))?r:null:"ddd"===t?-1!==(r=C.call(this._shortWeekdaysParse,e))||-1!==(r=C.call(this._weekdaysParse,e))||-1!==(r=C.call(this._minWeekdaysParse,e))?r:null:-1!==(r=C.call(this._minWeekdaysParse,e))||-1!==(r=C.call(this._weekdaysParse,e))||-1!==(r=C.call(this._shortWeekdaysParse,e))?r:null}.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(r=c([2e3,1]).day(s),a&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),a&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(a&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(a&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!a&&this._weekdaysParse[s].test(e))return s}},g.weekdaysRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},g.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ke),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},g.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=et),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},g.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},g.meridiem=function(e,t,a){return 11<e?a?"pm":"PM":a?"am":"AM"},ct("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),h.lang=e("moment.lang is deprecated. Use moment.locale instead.",ct),h.langData=e("moment.langData is deprecated. Use moment.localeData instead.",M);var da=Math.abs;function ca(e,t,a,s){t=E(t,a);return e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function ua(e){return e<0?Math.floor(e):Math.ceil(e)}function pa(e){return 4800*e/146097}function ha(e){return 146097*e/4800}function fa(e){return function(){return this.as(e)}}ve=fa("ms"),fe=fa("s"),Ee=fa("m"),ge=fa("h"),_e=fa("d"),Qe=fa("w"),Re=fa("M"),me=fa("Q"),we=fa("y");function ma(e){return function(){return this.isValid()?this._data[e]:NaN}}var ye=ma("milliseconds"),ke=ma("seconds"),Ue=ma("minutes"),g=ma("hours"),ya=ma("days"),_a=ma("months"),ga=ma("years"),va=Math.round,ka={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var wa=Math.abs;function ba(e){return(0<e)-(e<0)||+e}function Ca(){var e,t,a,s,r,i,n,o,l,d,c;return this.isValid()?(o=wa(this._milliseconds)/1e3,l=wa(this._days),d=wa(this._months),(c=this.asSeconds())?(e=y(o/60),t=y(e/60),o%=60,e%=60,a=y(d/12),d%=12,s=o?o.toFixed(3).replace(/\.?0+$/,""):"",r=ba(this._months)!==ba(c)?"-":"",i=ba(this._days)!==ba(c)?"-":"",n=ba(this._milliseconds)!==ba(c)?"-":"",(c<0?"-":"")+"P"+(a?r+a+"Y":"")+(d?r+d+"M":"")+(l?i+l+"D":"")+(t||e||o?"T":"")+(t?n+t+"H":"")+(e?n+e+"M":"")+(o?n+s+"S":"")):"P0D"):this.localeData().invalidDate()}var A=St.prototype;return A.isValid=function(){return this._isValid},A.abs=function(){var e=this._data;return this._milliseconds=da(this._milliseconds),this._days=da(this._days),this._months=da(this._months),e.milliseconds=da(e.milliseconds),e.seconds=da(e.seconds),e.minutes=da(e.minutes),e.hours=da(e.hours),e.months=da(e.months),e.years=da(e.years),this},A.add=function(e,t){return ca(this,e,t,1)},A.subtract=function(e,t){return ca(this,e,t,-1)},A.as=function(e){if(!this.isValid())return NaN;var t,a,s=this._milliseconds;if("month"===(e=p(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,a=this._months+pa(t),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(ha(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},A.asMilliseconds=ve,A.asSeconds=fe,A.asMinutes=Ee,A.asHours=ge,A.asDays=_e,A.asWeeks=Qe,A.asMonths=Re,A.asQuarters=me,A.asYears=we,A.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},A._bubble=function(){var e=this._milliseconds,t=this._days,a=this._months,s=this._data;return 0<=e&&0<=t&&0<=a||e<=0&&t<=0&&a<=0||(e+=864e5*ua(ha(a)+t),a=t=0),s.milliseconds=e%1e3,e=y(e/1e3),s.seconds=e%60,e=y(e/60),s.minutes=e%60,e=y(e/60),s.hours=e%24,t+=y(e/24),a+=e=y(pa(t)),t-=ua(ha(e)),e=y(a/12),a%=12,s.days=t,s.months=a,s.years=e,this},A.clone=function(){return E(this)},A.get=function(e){return e=p(e),this.isValid()?this[e+"s"]():NaN},A.milliseconds=ye,A.seconds=ke,A.minutes=Ue,A.hours=g,A.days=ya,A.weeks=function(){return y(this.days()/7)},A.months=_a,A.years=ga,A.humanize=function(e,t){var a,s,r,i,n,o,l,d,c,u,p;return this.isValid()?(a=!1,r=ka,"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(a=e),"object"==typeof t&&(r=Object.assign({},ka,t),null!=t.s)&&null==t.ss&&(r.ss=t.s-1),e=this.localeData(),t=!a,r=r,i=e,n=E(s=this).abs(),o=va(n.as("s")),l=va(n.as("m")),d=va(n.as("h")),c=va(n.as("d")),u=va(n.as("M")),p=va(n.as("w")),n=va(n.as("y")),o=(o<=r.ss?["s",o]:o<r.s&&["ss",o])||(l<=1?["m"]:l<r.m&&["mm",l])||(d<=1?["h"]:d<r.h&&["hh",d])||(c<=1?["d"]:c<r.d&&["dd",c]),(o=(o=null!=r.w?o||(p<=1?["w"]:p<r.w&&["ww",p]):o)||(u<=1?["M"]:u<r.M&&["MM",u])||(n<=1?["y"]:["yy",n]))[2]=t,o[3]=0<+s,o[4]=i,l=function(e,t,a,s,r){return r.relativeTime(t||1,!!a,e,s)}.apply(null,o),a&&(l=e.pastFuture(+this,l)),e.postformat(l)):this.localeData().invalidDate()},A.toISOString=Ca,A.toString=Ca,A.toJSON=Ca,A.locale=zt,A.localeData=qt,A.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ca),A.lang=Je,s("X",0,0,"unix"),s("x",0,0,"valueOf"),k("x",Ce),k("X",/[+-]?\d+(\.\d{1,3})?/),b("X",function(e,t,a){a._d=new Date(1e3*parseFloat(e))}),b("x",function(e,t,a){a._d=new Date(_(e))}),h.version="2.29.1",Y=D,h.fn=r,h.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},h.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},h.now=function(){return Date.now?Date.now():+new Date},h.utc=c,h.unix=function(e){return D(1e3*e)},h.months=function(e,t){return oa(e,t,"months")},h.isDate=L,h.locale=ct,h.invalid=U,h.duration=E,h.isMoment=o,h.weekdays=function(e,t,a){return la(e,t,a,"weekdays")},h.parseZone=function(){return D.apply(null,arguments).parseZone()},h.localeData=M,h.isDuration=Tt,h.monthsShort=function(e,t){return oa(e,t,"monthsShort")},h.weekdaysMin=function(e,t,a){return la(e,t,a,"weekdaysMin")},h.defineLocale=ut,h.updateLocale=function(e,t){var a,s;return null!=t?(s=nt,null!=T[e]&&null!=T[e].parentLocale?T[e].set(X(T[e]._config,t)):(t=X(s=null!=(a=dt(e))?a._config:s,t),null==a&&(t.abbr=e),(s=new K(t)).parentLocale=T[e],T[e]=s),ct(e)):null!=T[e]&&(null!=T[e].parentLocale?(T[e]=T[e].parentLocale,e===ct()&&ct(e)):null!=T[e]&&delete T[e]),T[e]},h.locales=function(){return ee(T)},h.weekdaysShort=function(e,t,a){return la(e,t,a,"weekdaysShort")},h.normalizeUnits=p,h.relativeTimeRounding=function(e){return void 0===e?va:"function"==typeof e&&(va=e,!0)},h.relativeTimeThreshold=function(e,t){return void 0!==ka[e]&&(void 0===t?ka[e]:(ka[e]=t,"s"===e&&(ka.ss=t-1),!0))},h.calendarFormat=function(e,t){e=e.diff(t,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},h.prototype=r,h.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},h}),function(e,t){"function"==typeof define&&define.amd?define("wavesurfer",[],function(){return e.WaveSurfer=t()}):"object"==typeof exports?module.exports=t():e.WaveSurfer=t()}(this,function(){"use strict";var p={defaultParams:{height:128,waveColor:"#999",progressColor:"#555",cursorColor:"#333",cursorWidth:1,skipLength:2,minPxPerSec:20,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,fillParent:!0,scrollParent:!1,hideScrollbar:!1,normalize:!1,audioContext:null,container:null,dragSelection:!0,loopSelection:!0,audioRate:1,interact:!0,splitChannels:!1,mediaContainer:null,mediaControls:!1,renderer:"Canvas",backend:"WebAudio",mediaType:"audio",autoCenter:!0},init:function(e){if(this.params=p.util.extend({},this.defaultParams,e),this.container="string"==typeof e.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(null==this.params.mediaContainer?this.mediaContainer=this.container:"string"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.isDestroyed=!1},createDrawer:function(){var a=this;this.drawer=Object.create(p.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){a.drawBuffer(),a.drawer.progress(a.backend.getPlayedPercents())}),this.drawer.on("click",function(e,t){setTimeout(function(){a.seekTo(t)},0)}),this.drawer.on("scroll",function(e){a.fireEvent("scroll",e)})},createBackend:function(){var t=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||p.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(p[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){t.fireEvent("finish")}),this.backend.on("play",function(){t.fireEvent("play")}),this.backend.on("pause",function(){t.fireEvent("pause")}),this.backend.on("audioprocess",function(e){t.drawer.progress(t.backend.getPlayedPercents()),t.fireEvent("audioprocess",e)})},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(e,t){this.fireEvent("interaction",this.play.bind(this,e,t)),this.backend.play(e,t)},pause:function(){this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(e){this.skip(-e||-this.params.skipLength)},skipForward:function(e){this.skip(e||this.params.skipLength)},skip:function(e){var t=this.getCurrentTime()||0,a=this.getDuration()||1,t=Math.max(0,Math.min(a,t+(e||0)));this.seekAndCenter(t/a)},seekAndCenter:function(e){this.seekTo(e),this.drawer.recenter(e)},seekTo:function(e){this.fireEvent("interaction",this.seekTo.bind(this,e));var t=this.backend.isPaused(),a=this.params.scrollParent;t&&(this.params.scrollParent=!1),this.backend.seekTo(e*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),t||(this.backend.pause(),this.backend.play()),this.params.scrollParent=a,this.fireEvent("seek",e)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(e){this.backend.setVolume(e)},setPlaybackRate:function(e){this.backend.setPlaybackRate(e)},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(e){e!==this.isMuted&&(e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var e=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),t=this.drawer.getWidth(),a=e,e=(this.params.fillParent&&(!this.params.scrollParent||e<t)&&(a=t),this.backend.getPeaks(a));this.drawer.drawPeaks(e,a),this.fireEvent("redraw",e,a)},zoom:function(e){this.params.minPxPerSec=e,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",e)},loadArrayBuffer:function(e){this.decodeArrayBuffer(e,function(e){this.isDestroyed||this.loadDecodedBuffer(e)}.bind(this))},loadDecodedBuffer:function(e){this.backend.load(e),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(e){var t=this,a=new FileReader;a.addEventListener("progress",function(e){t.onProgress(e)}),a.addEventListener("load",function(e){t.loadArrayBuffer(e.target.result)}),a.addEventListener("error",function(){t.fireEvent("error","Error reading file")}),a.readAsArrayBuffer(e),this.empty()},load:function(e,t,a){switch(this.empty(),this.params.backend){case"WebAudio":return this.loadBuffer(e,t);case"MediaElement":return this.loadMediaElement(e,t,a)}},loadBuffer:function(t,e){var a=function(e){return e&&this.tmpEvents.push(this.once("ready",e)),this.getArrayBuffer(t,this.loadArrayBuffer.bind(this))}.bind(this);return e?(this.backend.setPeaks(e),this.drawBuffer(),void this.tmpEvents.push(this.once("interaction",a))):a()},loadMediaElement:function(e,t,a){var s=e;"string"==typeof e?this.backend.load(s,this.mediaContainer,t,a):(this.backend.loadElt(a=e,t),s=a.src),this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(e){this.fireEvent("error",e)}.bind(this))),t?this.backend.setPeaks(t):this.backend.supportsWebAudio()&&this.getArrayBuffer(s,function(e){this.decodeArrayBuffer(e,function(e){this.backend.buffer=e,this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(t,a){this.arraybuffer=t,this.backend.decodeArrayBuffer(t,function(e){this.isDestroyed||this.arraybuffer!=t||(a(e),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(e,a){var s=this,e=p.util.ajax({url:e,responseType:"arraybuffer"});return this.currentAjax=e,this.tmpEvents.push(e.on("progress",function(e){s.onProgress(e)}),e.on("success",function(e,t){a(e),s.currentAjax=null}),e.on("error",function(e){s.fireEvent("error","XHR error: "+e.target.statusText),s.currentAjax=null})),e},onProgress:function(e){var t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6);this.fireEvent("loading",Math.round(100*t),e.target)},exportPCM:function(e,t,a){t=t||1e4,a=a||!1;e=this.backend.getPeaks(e=e||1024,t),e=[].map.call(e,function(e){return Math.round(e*t)/t}),e=JSON.stringify(e);return a||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(e)),e},exportImage:function(e,t){return this.drawer.getImage(e=e||"image/png",t=t||1)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(e){e.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0},create:function(e){var t=Object.create(p);return t.init(e),t},util:{extend:function(a){return Array.prototype.slice.call(arguments,1).forEach(function(t){Object.keys(t).forEach(function(e){a[e]=t[e]})}),a},min:function(e){var t,a=1/0;for(t in e)e[t]<a&&(a=e[t]);return a},max:function(e){var t,a=-1/0;for(t in e)e[t]>a&&(a=e[t]);return a},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(e){var t=Object.create(p.Observer),a=new XMLHttpRequest,s=!1;return a.open(e.method||"GET",e.url,!0),a.responseType=e.responseType||"json",a.addEventListener("progress",function(e){t.fireEvent("progress",e),e.lengthComputable&&e.loaded==e.total&&(s=!0)}),a.addEventListener("load",function(e){s||t.fireEvent("progress",e),t.fireEvent("load",e),200==a.status||206==a.status?t.fireEvent("success",a.response,e):t.fireEvent("error",e)}),a.addEventListener("error",function(e){t.fireEvent("error",e)}),a.send(),t.xhr=a,t}},Observer:{on:function(e,t){return this.handlers||(this.handlers={}),(this.handlers[e]||(this.handlers[e]=[])).push(t),{name:e,callback:t,un:this.un.bind(this,e,t)}},un:function(e,t){if(this.handlers){var a=this.handlers[e];if(a)if(t)for(var s=a.length-1;0<=s;s--)a[s]==t&&a.splice(s,1);else a.length=0}},unAll:function(){this.handlers=null},once:function(e,t){function a(){t.apply(this,arguments),setTimeout(function(){s.un(e,a)},0)}var s=this;return this.on(e,a)},fireEvent:function(e){var t;this.handlers&&(e=this.handlers[e],t=Array.prototype.slice.call(arguments,1),e)&&e.forEach(function(e){e.apply(null,t)})}}};return p.util.extend(p,p.Observer),p.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return this.ac||(this.ac=new(window.AudioContext||window.webkitAudioContext)),this.ac},getOfflineAudioContext:function(e){return p.WebAudio.offlineAudioContext||(p.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),p.WebAudio.offlineAudioContext},init:function(e){this.params=e,this.ac=e.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(p.WebAudio.state.playing),Object.create(p.WebAudio.state.paused),Object.create(p.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(e){e&&e.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce(function(e,t){return e.connect(t),t},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var t=this;this.scriptNode.onaudioprocess=function(){var e=t.getCurrentTime();e>=t.getDuration()?(t.setState(t.FINISHED_STATE),t.fireEvent("pause")):e>=t.scheduledPause?t.pause():t.state===t.states[t.PLAYING_STATE]&&t.fireEvent("audioprocess",e)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(e){this.gainNode.gain.value=e},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(e,t,a){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(e,function(e){t(e)}.bind(this),a)},setPeaks:function(e){this.peaks=e},getPeaks:function(e){if(this.peaks)return this.peaks;for(var t=this.buffer.length/e,a=~~(t/10)||1,s=this.buffer.numberOfChannels,r=[],i=[],n=0;n<s;n++)for(var o=r[n]=[],l=this.buffer.getChannelData(n),d=0;d<e;d++){for(var c=~~(d*t),u=~~(c+t),p=0,h=0,f=c;f<u;f+=a){var m=l[f];h<m&&(h=m),m<p&&(p=m)}o[2*d]=h,o[2*d+1]=p,(0==n||i[2*d]<h)&&(i[2*d]=h),(0==n||p<i[2*d+1])&&(i[2*d+1]=p)}return this.params.splitChannels?r:i},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.audioContext||this.ac.close()},load:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(e,t){if(this.buffer)return(this.scheduledPause=null)==e&&(e=this.getCurrentTime())>=this.getDuration()&&(e=0),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:e,end:t}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(e,t){var a;this.buffer&&(this.createSource(),e=(a=this.seekTo(e,t)).start,t=a.end,this.scheduledPause=t,this.source.start(0,e,t-e),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play"))},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},setPlaybackRate:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}},p.WebAudio.state={},p.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},p.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}},p.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},p.util.extend(p.WebAudio,p.Observer),p.MediaElement=Object.create(p.WebAudio),p.util.extend(p.MediaElement,{init:function(e){this.params=e,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=e.mediaType.toLowerCase(),this.elementPosition=e.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){function e(){t.isPaused()||(t.fireEvent("audioprocess",t.getCurrentTime()),(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(e))}var t=this;this.on("play",e)},load:function(e,t,a,s){var r=document.createElement(this.mediaType),s=(r.controls=this.params.mediaControls,r.autoplay=this.params.autoplay||!1,r.preload=null==s?"auto":s,r.src=e,r.style.width="100%",t.querySelector(this.mediaType));s&&t.removeChild(s),t.appendChild(r),this._load(r,a)},loadElt:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t)},_load:function(e,t){var a=this;"function"==typeof e.load&&e.load(),e.addEventListener("error",function(){a.fireEvent("error","Error loading media element")}),e.addEventListener("canplay",function(){a.fireEvent("canplay")}),e.addEventListener("ended",function(){a.fireEvent("finish")}),this.media=e,this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var e=this.media.duration;return e=1/0<=e?this.media.seekable.end(0):e},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate},seekTo:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()},play:function(e,t){this.seekTo(e),this.media.play(),t&&this.setPlayEnd(t),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(t){var a=this;this.onPlayEnd=function(e){t<=e&&(a.pause(),a.seekTo(t))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(e){return this.buffer?p.WebAudio.getPeaks.call(this,e):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(e){this.media.volume=e},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),p.AudioElement=p.MediaElement,p.Drawer={init:function(e,t){this.container=e,this.params=t,this.width=0,this.height=t.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(t),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(e,t){t||e.preventDefault();var a,t=(e.targetTouches?e.targetTouches[0]:e).clientX,e=this.wrapper.getBoundingClientRect(),s=this.width,r=this.getWidth();return!this.params.fillParent&&s<r?1<(a=(t-e.left)*this.params.pixelRatio/s||0)&&(a=1):a=(t-e.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,a},setupWrapperEvents:function(){var s=this;this.wrapper.addEventListener("click",function(e){var t=s.wrapper.offsetHeight-s.wrapper.clientHeight;if(0!=t){var a=s.wrapper.getBoundingClientRect();if(e.clientY>=a.bottom-t)return}s.params.interact&&s.fireEvent("click",e,s.handleEvent(e))}),this.wrapper.addEventListener("scroll",function(e){s.fireEvent("scroll",e)})},drawPeaks:function(e,t){this.resetScroll(),this.setWidth(t),this.params.barWidth?this.drawBars(e):this.drawWave(e)},style:function(t,a){return Object.keys(a).forEach(function(e){t.style[e]!==a[e]&&(t.style[e]=a[e])}),t},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(e){e=this.wrapper.scrollWidth*e;this.recenterOnPosition(e,!0)},recenterOnPosition:function(e,t){var a=this.wrapper.scrollLeft,s=~~(this.wrapper.clientWidth/2),e=e-s,r=e-a,i=this.wrapper.scrollWidth-this.wrapper.clientWidth;0!=i&&(!t&&-s<=r&&r<s&&(e=a+Math.max(-5,Math.min(5,r))),(e=Math.max(0,Math.min(i,e)))!=a)&&(this.wrapper.scrollLeft=e)},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(e){this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize()},setHeight:function(e){e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(e){var t=1/this.params.pixelRatio,a=Math.round(e*this.width)*t;(a<this.lastPos||a-this.lastPos>=t)&&(this.lastPos=a,this.params.scrollParent&&this.params.autoCenter&&(t=~~(this.wrapper.scrollWidth*e),this.recenterOnPosition(t)),this.updateProgress(e))},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(e,t){},clearWave:function(){},updateProgress:function(e){}},p.util.extend(p.Drawer,p.Observer),p.Drawer.Canvas=Object.create(p.Drawer),p.util.extend(p.Drawer.Canvas,{createElements:function(){var e=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));this.waveCc=e.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor&&(e=this.progressWave.appendChild(document.createElement("canvas")),this.progressCc=e.getContext("2d"))},updateSize:function(){var e=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:e+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:e+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(s,e){if(s[0]instanceof Array){var t=s;if(this.params.splitChannels)return this.setHeight(t.length*this.params.height*this.params.pixelRatio),void t.forEach(this.drawBars,this);s=t[0]}[].some.call(s,function(e){return e<0})&&(s=[].filter.call(s,function(e,t){return t%2==0}));var r=.5/this.params.pixelRatio,i=this.width,t=this.params.height*this.params.pixelRatio,n=t*e||0,o=t/2,e=s.length,l=this.params.barWidth*this.params.pixelRatio,t=Math.max(this.params.pixelRatio,~~(l/2)),d=l+t,c=1,u=(this.params.normalize&&(c=p.util.max(s)),e/i);this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(e){if(e)for(var t=0;t<i;t+=d){var a=Math.round(s[Math.floor(t*u)]/c*o);e.fillRect(t+r,o-a+n,l+r,2*a)}},this)},drawWave:function(s,e){if(s[0]instanceof Array){var t=s;if(this.params.splitChannels)return this.setHeight(t.length*this.params.height*this.params.pixelRatio),void t.forEach(this.drawWave,this);s=t[0]}if(![].some.call(s,function(e){return e<0})){for(var a=[],r=0,i=s.length;r<i;r++)a[2*r]=s[r],a[2*r+1]=-s[r];s=a}var n=.5/this.params.pixelRatio,t=this.params.height*this.params.pixelRatio,o=t*e||0,l=t/2,d=~~(s.length/2),c=1,u=(this.params.fillParent&&this.width!=d&&(c=this.width/d),1);this.params.normalize&&(e=p.util.max(s),t=p.util.min(s),u=e<-t?-t:e),this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(e){if(e){e.beginPath(),e.moveTo(n,l+o);for(var t=0;t<d;t++){var a=Math.round(s[2*t]/u*l);e.lineTo(t*c+n,l-a+o)}for(t=d-1;0<=t;t--){a=Math.round(s[2*t+1]/u*l);e.lineTo(t*c+n,l-a+o)}e.closePath(),e.fill(),e.fillRect(0,l+o-n,this.width,n)}},this)},updateProgress:function(e){e=Math.round(this.width*e)/this.params.pixelRatio;this.style(this.progressWave,{width:e+"px"})},getImage:function(e,t){return this.waveCc.canvas.toDataURL(e,t)}}),p.Drawer.MultiCanvas=Object.create(p.Drawer),p.util.extend(p.Drawer.MultiCanvas,{initDrawer:function(e){if(this.maxCanvasWidth=null!=e.maxCanvasWidth?e.maxCanvasWidth:4e3,this.maxCanvasElementWidth=Math.round(this.maxCanvasWidth/this.params.pixelRatio),this.maxCanvasWidth<=1)throw"maxCanvasWidth must be greater than 1.";if(this.maxCanvasWidth%2==1)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var e,t=Math.round(this.width/this.params.pixelRatio),a=Math.ceil(t/this.maxCanvasElementWidth);this.canvases.length<a;)this.addCanvas();for(;this.canvases.length>a;)this.removeCanvas();for(e in this.canvases){var s=this.maxCanvasWidth+2*Math.ceil(this.params.pixelRatio/2);e==this.canvases.length-1&&(s=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[e],s,this.height),this.clearWaveForEntry(this.canvases[e])}},addCanvas:function(){var e={},t=this.maxCanvasElementWidth*this.canvases.length;e.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:t+"px",top:0,bottom:0})),e.waveCtx=e.wave.getContext("2d"),this.hasProgressCanvas&&(e.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0})),e.progressCtx=e.progress.getContext("2d")),this.canvases.push(e)},removeCanvas:function(){var e=this.canvases.pop();e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress)},updateDimensions:function(e,t,a){var s=Math.round(t/this.params.pixelRatio),r=Math.round(this.width/this.params.pixelRatio);e.start=e.waveCtx.canvas.offsetLeft/r||0,e.end=e.start+s/r,e.waveCtx.canvas.width=t,e.waveCtx.canvas.height=a,this.style(e.waveCtx.canvas,{width:s+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(e.progressCtx.canvas.width=t,e.progressCtx.canvas.height=a,this.style(e.progressCtx.canvas,{width:s+"px"}))},clearWave:function(){for(var e in this.canvases)this.clearWaveForEntry(this.canvases[e])},clearWaveForEntry:function(e){e.waveCtx.clearRect(0,0,e.waveCtx.canvas.width,e.waveCtx.canvas.height),this.hasProgressCanvas&&e.progressCtx.clearRect(0,0,e.progressCtx.canvas.width,e.progressCtx.canvas.height)},drawBars:function(e,t){if(e[0]instanceof Array){var a=e;if(this.params.splitChannels)return this.setHeight(a.length*this.params.height*this.params.pixelRatio),void a.forEach(this.drawBars,this);e=a[0]}[].some.call(e,function(e){return e<0})&&(e=[].filter.call(e,function(e,t){return t%2==0}));var s=this.width,a=this.params.height*this.params.pixelRatio,r=a*t||0,i=a/2,t=e.length,n=this.params.barWidth*this.params.pixelRatio,o=n+Math.max(this.params.pixelRatio,~~(n/2)),l=1;this.params.normalize&&(l=p.util.max(e));for(var d=t/s,c=0;c<s;c+=o){var u=Math.round(e[Math.floor(c*d)]/l*i);this.fillRect(c+this.halfPixel,i-u+r,n+this.halfPixel,2*u)}},drawWave:function(e,t){if(e[0]instanceof Array){var a=e;if(this.params.splitChannels)return this.setHeight(a.length*this.params.height*this.params.pixelRatio),void a.forEach(this.drawWave,this);e=a[0]}if(![].some.call(e,function(e){return e<0})){for(var s=[],r=0,i=e.length;r<i;r++)s[2*r]=e[r],s[2*r+1]=-e[r];e=s}var n,o,a=this.params.height*this.params.pixelRatio,t=a*t||0,a=a/2,l=1;this.params.normalize&&(l=(n=p.util.max(e))<-(o=p.util.min(e))?-o:n),this.drawLine(e,l,a,t),this.fillRect(0,a+t-this.halfPixel,this.width,this.halfPixel)},drawLine:function(e,t,a,s){for(var r in this.canvases){r=this.canvases[r];this.setFillStyles(r),this.drawLineToContext(r,r.waveCtx,e,t,a,s),this.drawLineToContext(r,r.progressCtx,e,t,a,s)}},drawLineToContext:function(e,t,a,s,r,i){if(t){var n=a.length/2,o=1,l=(this.params.fillParent&&this.width!=n&&(o=this.width/n),Math.round(n*e.start)),d=Math.round(n*e.end);t.beginPath(),t.moveTo(this.halfPixel,r+i);for(var c=l;c<d;c++){var u=Math.round(a[2*c]/s*r);t.lineTo((c-l)*o+this.halfPixel,r-u+i)}for(c=d-1;l<=c;c--){u=Math.round(a[2*c+1]/s*r);t.lineTo((c-l)*o+this.halfPixel,r-u+i)}t.closePath(),t.fill()}},fillRect:function(e,t,a,s){for(var r in this.canvases){var i=this.canvases[r],n=r*this.maxCanvasWidth,r={x1:Math.max(e,r*this.maxCanvasWidth),y1:t,x2:Math.min(e+a,r*this.maxCanvasWidth+i.waveCtx.canvas.width),y2:t+s};r.x1<r.x2&&(this.setFillStyles(i),this.fillRectToContext(i.waveCtx,r.x1-n,r.y1,r.x2-r.x1,r.y2-r.y1),this.fillRectToContext(i.progressCtx,r.x1-n,r.y1,r.x2-r.x1,r.y2-r.y1))}},fillRectToContext:function(e,t,a,s,r){e&&e.fillRect(t,a,s,r)},setFillStyles:function(e){e.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(e.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(e){e=Math.round(this.width*e)/this.params.pixelRatio;this.style(this.progressWave,{width:e+"px"})}}),"complete"===document.readyState?e():window.addEventListener("load",e),p;function e(){var e=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(e,function(e){var t,a=p.util.extend({container:e,backend:"MediaElement",mediaControls:!0},e.dataset),a=(e.style.display="block",p.create(a));e.dataset.peaks&&(t=JSON.parse(e.dataset.peaks)),a.load(e.dataset.url,t)})}}),$=jQuery;var webAudioNotSupported,match,iOSVersion,sonaarStatsTimeOut,elementAudio=document.createElement("audio"),elementAudioSingle=(elementAudio.crossOrigin="anonymous",document.createElement("audio")),srp_startingTime=(elementAudioSingle.crossOrigin="anonymous",0),srp_lyricsAreScrolling=!1,myVueAr=[],iOS=/iPad|iPhone|iPod/.test(navigator.userAgent);function startAudioSpectrum(v,t=!1,H=!1){if(null!=v){let g;if("#sonaar-player"==v?(g=!0,v=$("#sonaar-player")):g=!1,(v.hasClass("srp_player_spectrum")||g)&&!(webAudioNotSupported||g&&IRON.audioPlayer.stickyEnable&&(IRON.sonaar.player.classes.wavesurferEnable&&!IRON.sonaar.player.wavesurfer.isPlaying()||!IRON.sonaar.player.classes.wavesurferEnable&&document.getElementById("sonaar-audio").paused))){var a=document.createElement("div");a.className="srp_spectrum_container srp_hidden";const Y=srp_convertPlayerIdToPlayerNum(v.attr("id"));if((v=Y?IRON.players[Y].audioPlayer:v).spectrumAnimation=!0,IRON.sonaar.spectrumAnimation=!0,!(!IRON.audioPlayer.stickyEnable&&g||!g&&null==Y))if(g&&("hide_tablet"===sonaar_music.option.sticky_spectro_responsive?(v.addClass("srp_hide_spectro_tablet"),v.addClass("srp_hide_spectro_mobile")):"hide_mobile"===sonaar_music.option.sticky_spectro_responsive&&v.addClass("srp_hide_spectro_mobile")),window.matchMedia("(max-width: 768px)").matches&&v.hasClass("srp_hide_spectro_tablet")||window.matchMedia("(max-width: 480px)").matches&&v.hasClass("srp_hide_spectro_mobile"))g&&(IRON.sonaar.spectrumAnimation=!1),v.spectrumAnimation=!1;else{var s,r,i,k,w,b,n,C,P,O,R,x,N,I,o,l,S,T,M,D,d=(null!=IRON.sonaar.player.selectedPlayer?IRON.sonaar.player.selectedPlayer:v).data("spectro"),d="string"==typeof d&&d.split("|").reduce((e,t)=>{t=t.split(":");return e[t[0]]=isNaN(t[1])||""===t[1]?t[1]:parseInt(t[1]),e},{});if(""==d.color1&&""!=d.color2&&(d.color1=d.color2,d.color2=""),g?(s=null!=IRON.sonaar.player.selectedPlayer&&IRON.sonaar.player.selectedPlayer.adaptiveColors?""==d.color1?"rgba(0,0,0,0)":d.color1:sonaar_music.option.sticky_spectro_color1||!1,r=null!=IRON.sonaar.player.selectedPlayer&&IRON.sonaar.player.selectedPlayer.adaptiveColors?d.color2:sonaar_music.option.sticky_spectro_color2||!1,k=parseInt(sonaar_music.option.sticky_spectro_barcount)||60,w=parseInt(sonaar_music.option.sticky_spectro_barwidth)||4,b=void 0!==sonaar_music.option.sticky_spectro_bargap&&null!==sonaar_music.option.sticky_spectro_bargap?parseInt(sonaar_music.option.sticky_spectro_bargap):2,n=sonaar_music.option.sticky_spectro_canvasheight||70,C=sonaar_music.option.sticky_spectro_halign||"left",P=sonaar_music.option.sticky_spectro_valign||"bottom",O=sonaar_music.option.sticky_spectro_style||"bars",R="true"===sonaar_music.option.sticky_spectro_sharpends,x=parseInt(sonaar_music.option.sticky_spectro_vibrance)||40,N=parseInt(sonaar_music.option.sticky_spectro_blocheight)||2,I=parseInt(sonaar_music.option.sticky_spectro_blockgap)||2,o="true"===sonaar_music.option.sticky_spectro_reflect,i="true"===sonaar_music.option.sticky_spectro_shadow,l=sonaar_music.option.sticky_spectro_gradientdir||"vertical",h=sonaar_music.option.sticky_spectro_container||"inside",f=sonaar_music.option.sticky_spectro_posbottom||"50",m=sonaar_music.option.sticky_spectro_posleft||"0",S=!1):(s=d.color1||!1,r=d.color2||!1,i="true"===d.shadow,k=d.barCount||60,w=d.barWidth||4,b=d.barGap||2,n=d.canvasHeight||100,C=d.halign||"left",P=d.valign||"bottom",O=d.spectroStyle||"bars",R=d.sharpFx||!1,x=d.shockwaveVibrance/100||.4,N=d.blockHeight||"2",I=d.blockGap||"2",o=d.reflectFx||!1,l=d.gradientDirection||"vertical",S=d.enableOnTracklist||!1,T=d.bounceClass||!1,M=d.bounceVibrance||100,D=d.bounceBlur||!1),T=T&&(T=T.split(",")).map(e=>e.trim()),v.spectroReflect=o="false"!=o&&""!=o,S="true"==S,S="#sonaar-player"!=v&&S,null==Y||v.parents(".playlist_enabled").length||!S){const W="bricks"===O;t=!t&&null!=Y&&!S||!t&&null!=Y&&S&&0==$(v).filter(".show-playlist").length?v.find(".srp_spectrum_box").length?v.find(".srp_spectrum_box"):v.find(".player"):!t&&null!=Y&&S?v.find(".sr-playlist-item.current .tracklist-item-title"):!g||"outside"===h?v:v.find("#sPlayer");d=(w+b)*k;let y;var c,u,p=null!=Y?"-"+Y:"";let _=v.find(".sr-playlist-item.current").index();p=S&&v.find(".sr-playlist-item.current").length?p+"-"+_:p;const L="srp_spectrum"+(g?"-sticky":p),F=($("#"+L).length?y=$("#"+L)[0]:(y=document.createElement("canvas"),t.prepend(a),y.id=L,y.classList="srp_spectrum",a.appendChild(y)),y.getContext("2d"));g&&("outside"===h?v.find(".srp_spectrum_container").css("bottom",f+"px").css("left",m+"px"):(v.find(".mobileProgress").css("display","block"),v.find("wave").css("display","none"),v.find(".sonaar_wave_cut").css("display","none"),v.find(".sonaar_wave_base").css("display","none"))),"selectors"==O&&v.find(".srp_spectrum_container").css("display","none");let e=t.width();if(d=d>(e=S&&$(v).hasClass("srp_tracklist_grid")&&v.find(".srp_spectrum_container").length&&"absolute"==window.getComputedStyle(v.find(".srp_spectrum_container")[0]).getPropertyValue("position")?999999:e)?e:d,(w+b)*k>e&&(C="left"),y.width=d,y.height=n,a.style.height=n+"px",v.spectrumColor1=s,v.spectrumColor2=r,v.adaptiveColors&&!r&&(r=!1===s&&v.paletteColorsHex[0],v.spectrumColor2=!1),v.adaptiveColors&&!s&&(s=v.paletteColorsHex[1],v.spectrumColor1=!1),r&&((c="vertical"===l?F.createLinearGradient(0,0,0,n):(p="left"===C?+(w+b):y.width/2-k*(w+b)/2+ +(w+b)+b/2,F.createLinearGradient(p,0,d+p,0))).addColorStop(.25,s),c.addColorStop(1,r)),s?spectrumColor=s:(c=F.createLinearGradient(0,0,y.width,0),(u=[0,60,120,180,240,300,360]).forEach(function(e,t){c.addColorStop(t/u.length,"hsl("+e+", 100%, 50%)")}),spectrumColor=c,s="#ffffff"),o?(P="middle",srp_spectroReflect(F,y,2.5,s,r)):((r||o)&&(spectrumColor=c),F.strokeStyle=spectrumColor,F.fillStyle=spectrumColor,F.imageSmoothingEnabled=!0),F.lineWidth=w,i&&(F.shadowColor=s,F.shadowBlur=10),!H){if(IRON.audioPlayer.stickyEnable){if("undefined"!=typeof myaudioElement)return void A();myaudioElement=IRON.sonaar.player.classes.wavesurferEnable?elementAudio:document.getElementById("sonaar-audio")}else{if(void 0!==IRON.players[Y].audioElement&&!IRON.sonaar.player.classes.wavesurferEnable)return IRON.players[Y].audioElement=v.find("audio")[0],void A();IRON.players[Y].audioElement=v.find("audio")[0],myaudioElement=IRON.players[Y].audioElement}myaudioElement.crossOrigin="anonymous";var E,h=new AudioContext({sampleRate:22050}),f=((E=IRON.audioPlayer.stickyEnable?IRON.sonaar.player:IRON.players[Y]).sonaarAnalyser=h.createAnalyser(),E.sonaarAnalyser),m=h.createMediaElementSource(myaudioElement);m.connect(f),m.connect(h.destination),F.restore()}function A(){E=IRON.audioPlayer.stickyEnable?IRON.sonaar.player:IRON.players[Y],setTimeout(function(){$("#"+L).parents(".srp_spectrum_container").removeClass("srp_hidden")},450),IRON.canvasAnimation.includes(y.id)||(IRON.canvasAnimation.push(y.id),function e(){var s=1024,r=new Uint8Array(s),t=(E.sonaarAnalyser.frequencyBinCount=s,requestAnimationFrame(e));"string"!==O&&"selectors"!==O?E.sonaarAnalyser.getByteFrequencyData(r):E.sonaarAnalyser.getByteTimeDomainData(r),F.clearRect(0,0,y.width,y.height),F.save(),F.beginPath(),F.rect(0,0,y.width,y.height),F.clip();var a=r;if(T)for(j=0;j<T.length;j++){let e;var i=M,i="scale("+(1+(a[0]-(e="string"==O||"selectors"==O?128:0))*(1+i/100*.2-1)/(200-e))+")";document.querySelector(T[j]).style.transform=i,"true"===D&&(i=a[0]/128*1.1,a[0]<129?document.querySelector(T[j]).style.filter="blur(0px)":document.querySelector(T[j]).style.filter=`blur(${i}px)`)}if("string"===O){let t=0,a=r[0]/128*y.height/2;F.beginPath(),F.lineWidth=w;for(let e=0;e<s;e++){var n=e/s*y.width,o=r[e]/128*y.height/2,n=t+.06*(n-t),o=a+.06*(o-a);t=n,a=o,0===e?F.moveTo(n,o):F.lineTo(n,o)}F.stroke()}if("bars"===O||"bricks"===O)for(let e=0;e<k;e++){var l,d,c=r[e],c=W&&"middle"!==P?c/128:c/256,u=y.height*c;if(l="bottom"===P?W?y.height:y.height-u-1:"middle"===P?W?y.height/2:(y.height-u)/2:0,d="left"===C?e*(w+b):"right"===C?y.width-(k-e)*(w+b)-w:y.width/2-k*(w+b)/2+e*(w+b),W)for(let e=0;e<u/2;e+=N+I){var p=R?w-e*(w/(u/2)):w;"bottom"!==P&&F.fillRect(d+w/2-p/2,l+e,p,N),F.fillRect(d+w/2-p/2,l-e-N-I,p,N)}else F.fillRect(d,l,w,u)}else if("shockwave"===O){var h=Math.max(...r),f=y.height/(2*h)*10;F.beginPath(),F.moveTo(0,y.height/2);for(let e=0;e<s;e++){var m=r[e],m=y.height/2+m*f*.1*Math.sin(e*x);F.lineTo(e,m)}F.stroke()}g&&!IRON.sonaar.spectrumAnimation&&(v.find(".srp_spectrum_container").addClass("srp_hidden"),IRON.canvasAnimation=IRON.canvasAnimation.filter(function(e){return e!==y.id}),cancelAnimationFrame(t)),g||!$(".iron-audioplayer").length||!(!v.hasClass("sr_selectedPlayer")&&IRON.audioPlayer.stickyEnable||!v.hasClass("sr_selected")&&!IRON.audioPlayer.stickyEnable||S&&0<=_&&0<=v.find(".sr-playlist-item.current").index()&&_!=v.find(".sr-playlist-item.current").index())&&v.spectrumAnimation&&$("#"+v.attr("id")).length||((S?v.find(".sr-playlist-item").eq(_):v).find(".srp_spectrum_container").addClass("srp_hidden"),IRON.canvasAnimation=IRON.canvasAnimation.filter(function(e){return e!==y.id}),cancelAnimationFrame(t))}())}A()}}}}}function srp_spectroReflect(e,t,a,s,r){a=a/t.height+.5,t=e.createLinearGradient(0,0,0,t.height);t.addColorStop(0,s),r?(t.addColorStop(.5,r),t.addColorStop(.5,srp_parseColor(r,0)),t.addColorStop(a,srp_parseColor(r,0)),t.addColorStop(a,srp_parseColor(r,.4))):(t.addColorStop(.5,s),t.addColorStop(.5,srp_parseColor(s,0)),t.addColorStop(a,srp_parseColor(s,0)),t.addColorStop(a,srp_parseColor(s,.4))),t.addColorStop(1,srp_parseColor(s,0)),e.strokeStyle=t,e.fillStyle=t}function srp_parseColor(e,t){var a;if(t=Math.min(Math.max(t,0),1),e.startsWith("#"))return 7===e.length?(a=parseInt(e.slice(-2),16),a=Math.round(a+(255-a)*t),e=e.slice(0,-2)+a.toString(16).padStart(2,"0")):e+=(255*t).toString(16).padStart(2,"0"),result="rgba("+parseInt(e.slice(1,3),16)+", "+parseInt(e.slice(3,5),16)+", "+parseInt(e.slice(5,7),16)+", "+t+")";if(e.startsWith("rgba("))return(a=e.slice(5,-1).split(","))[3]=t,"rgba("+a.join(",")+")";throw new Error("Unsupported color format: "+e)}function srp_getColorsFromImage(p,e){if(p.adaptiveColors){const h=new ColorThief,f=new Image;f.addEventListener("load",function(){paletteColors=h.getPalette(f,5);p.paletteColorsHex=[];for(var e,t,a=0;a<paletteColors.length;a++){s=paletteColors[a][0],e=paletteColors[a][1],t=paletteColors[a][2];var s="#"+[s,e,t].map(e=>{e=e.toString(16);return 1===e.length?"0"+e:e}).join("");p.paletteColorsHex.push(s)}function r(e){return("#"===e.charAt(0)?.2126*parseInt(e.slice(1,3),16)+.7152*parseInt(e.slice(3,5),16)+.0722*parseInt(e.slice(5,7),16):.2126*parseInt(e.slice(0,2),16)+.7152*parseInt(e.slice(2,4),16)+.0722*parseInt(e.slice(4,6),16))<130?"#fff":"#000"}"random"==p.adaptiveColors?p.paletteColorsHex=p.paletteColorsHex.sort(function(){return.5-Math.random()}):"2"==p.adaptiveColors?p.paletteColorsHex=p.paletteColorsHex.reverse():"3"==p.adaptiveColors?p.paletteColorsHex.push(p.paletteColorsHex.shift()):"4"==p.adaptiveColors&&p.paletteColorsHex.unshift(p.paletteColorsHex[1]);var i=r(p.paletteColorsHex[0]),n=r(p.paletteColorsHex[1]);function o(e,t){var e=parseInt(e.replace("#",""),16),t=Math.round(2.55*t),a=(e>>16)-t,s=(e>>8&255)-t,e=(255&e)-t;return"#"+(16777216+65536*(a<255?a<1?0:a:255)+256*(s<255?s<1?0:s:255)+(e<255?e<1?0:e:255)).toString(16).slice(1)}function l(e,t){var e=parseInt(e.replace("#",""),16),t=Math.round(2.55*t),a=(e>>16)+t,s=(e>>8&255)+t,e=(255&e)+t;return"#"+(16777216+65536*(a<255?a<1?0:a:255)+256*(s<255?s<1?0:s:255)+(e<255?e<1?0:e:255)).toString(16).slice(1)}1==p.adaptiveColorsFreeze&&$("#srp_stickyplayer").attr("data-player-source")==p.id||($("#srp_stickyplayer").remove(),p.prevAll("style").remove(),$("head").append('<style id="srp_stickyplayer" data-player-source="'+p.id+'"></style>'),p.before("<style></style>")),player_uid='[data-id="'+p.data("id")+'"] ',player_floated="skin_float_tracklist"==p.data("playertemplate");var d=[{target:"        #sonaar-player .control div,        #sonaar-player .playlist,        #sonaar-player .playlist .tracklist li.active span,        #sonaar-player .playlist .title,        #sonaar-player .playlist .tracklist li a,        #sonaar-player .sricon-volume,        #sonaar-player .player .wavesurfer .timing,        #sonaar-player .player .store .track-store li a,        #sonaar-player .sonaar-extend-button,        .srmp3_singning p[begin]:not(.srmp3_lyrics_read ~ p),        .playlist .audio-track .sricon-play,        .playlist li.current .audio-track,        .playlist li.current .track-number,        .playlist li.current .audio-track .srp_trackartist,        .srp-play-button .sricon-play,        .sr_progressbar .currentTime,        .sr_progressbar .totalTime,        .srp_player_boxed .srp_noteButton,        .playlist .srp_pagination, .srp_ellipsis,        .srp_pagination_container .srp_pagination_arrows,        .album-store,        .album-player .album-title, .album-player .track-title,        .control",css:"color",value:p.paletteColorsHex[1]},{target:"        #sonaar-player .playlist,        #sonaar-player .player .wavesurfer .volume .slider-container,        #sonaar-player.sr-float .playlist,        #sonaar-player.sr-float .close.btn-player,        #sonaar-player.sr-float .player.sr-show_controls_hover .playerNowPlaying,        .srp_note",css:"background-color",value:p.paletteColorsHex[0]},{target:"        .album-player,        .srp_track_description,        .playlist li .audio-track,        .playlist li .audio-track .srp_trackartist,        .playlist li .track-number,        .srp_search_container .fa-search,        .srp_search_container .srp_search,        .sr_it-playlist-publish-date,        .srp_playlist_duration,        .srp_trackCount,        .srp_note,        #sonaar-modal div.sr_popup-content,        #sonaar-player .playlist .tracklist li span,        #sonaar-player .metadata-inner",css:"color",value:i},{target:"#sonaar-modal .srp-modal-variation-list .srp-modal-variant-selector",css:"background-color",value:o(p.paletteColorsHex[0],5)},{target:".srp_player_boxed, .playlist .sr-playlist-item,#sonaar-player .player, #sonaar-player .mobilePanel, #sonaar-player .player .player-row:before, #sonaar-modal div.sr_popup-content",css:"background-color",value:o(p.paletteColorsHex[0],15)},{target:".srp_note",css:"background-color",value:o(p.paletteColorsHex[0],18)},{target:".sr-cf-heading",css:"background-color",value:o(p.paletteColorsHex[0],30)},{target:".sr-cf-heading",css:"border-color",value:o(p.paletteColorsHex[0],30)},{target:".sr-playlist-heading-child",css:"color",value:l(p.paletteColorsHex[0],10)},{target:".playlist .sr-playlist-item:hover, .playlist .sr-playlist-item.current",css:"background-color",value:o(p.paletteColorsHex[0],20)},{target:".srp_search_container .srp_search",css:"background-color",value:l(p.paletteColorsHex[0],15)},{target:".sr-playlist-cf-container",css:"color",value:i},{target:".sr-playlist-cf-container",css:"opacity",value:.6},{target:".srp-play-circle,.srp_pagination_container .srp_pagination_arrows,.control .sr_speedRate div,#sonaar-player div.sr_speedRate div,#sonaar-player .close.btn_playlist:before, #sonaar-player .close.btn_playlist:after",css:"border-color",value:p.paletteColorsHex[1]},{target:".playlist a.song-store:not(.sr_store_wc_round_bt),.srp_noteButton .sricon-info",css:"color",value:p.paletteColorsHex[2]},{target:".srp_track_description",css:"opacity",value:.5},{target:".sr_it-playlist-title, #sonaar-player .playlist button.play, #sonaar-player .close.btn-player,#sonaar-player div.sr_speedRate div,.control .sr_speedRate div,.srp_pagination_container .srp_pagination .active span,.srp-play-button-label-container",css:"color",value:p.paletteColorsHex[0]},{target:"#sonaar-modal .srp_button, #sonaar-modal .srp-modal-variation-list .srp-modal-variant-selector:hover, #sonaar-modal .srp-modal-variation-list .srp-modal-variant-selector.srp_selected, .srp_pagination_container .srp_pagination .active span,.srp-play-button-label-container,#sonaar-player .playlist button.play,#sonaar-player .mobileProgressing:after,#sonaar-player .progressDot,#sonaar-player div.sr_speedRate div,.control .sr_speedRate div",css:"background-color",value:p.paletteColorsHex[1]},{target:"#sonaar-modal .srp_button, #sonaar-modal .srp-modal-variation-list .srp-modal-variant-selector:hover, #sonaar-modal .srp-modal-variation-list .srp-modal-variant-selector.srp_selected",css:"color",value:n},{target:".buttons-block .store-list li .button, .song-store.sr_store_wc_round_bt",css:"color",value:n},{target:".buttons-block .store-list li .button,.song-store.sr_store_wc_round_bt",css:"background-color",value:p.paletteColorsHex[1]},{target:"#sonaar-player .close.btn-player,#sonaar-player .mobileProgress",css:"background-color",value:p.paletteColorsHex[3]},{target:"#sonaar-player .player",css:"border-color",value:p.paletteColorsHex[3]},{target:"#sonaar-player .player div.mobilePanel",css:"border-color",value:o(p.paletteColorsHex[0],15)}];player_floated&&d.push({target:".playlist, .playlist .sr-playlist-item",css:"background-color",value:"unset",skin:"floated"},{target:".album-player .album-title, .album-player .srp_trackartist, .sr_progressbar .currentTime, .sr_progressbar .totalTime",css:"color",value:p.paletteColorsHex[3],skin:"floated"},{target:".album-player .track-title, .control, .control .sricon-play",css:"color",value:l(p.paletteColorsHex[3],25),skin:"floated"},{target:".sr_it-playlist-title, .srp_subtitle, .srp_noteButton .sricon-info, .playlist li .audio-track, .playlist li .audio-track .srp_trackartist, .playlist li .track-number, .srp_track_description",css:"color",value:p.paletteColorsHex[1],skin:"floated"},{target:".playlist .audio-track .sricon-play",css:"color",value:l(p.paletteColorsHex[1],20),skin:"floated"},{target:"",css:"background-color",value:"unset",skin:"floated"});for(let t=0;t<d.length;t++){var c="";if("floated"===d[t].skin&&(c='[data-playertemplate="skin_float_tracklist"]'),-1!=d[t].target.indexOf(",")){var u=d[t].target.split(",");for(let e=0;e<u.length;e++)-1!=u[e].indexOf("#sonaar-")?$("#srp_stickyplayer").append(u[e]+"{"+d[t].css+":"+d[t].value+";transition: all 600ms;}"):p.prev("style").append(c+player_uid+u[e]+"{"+d[t].css+":"+d[t].value+";transition:"+d[t].css+" 600ms;}")}else-1!=d[t].target.indexOf("#sonaar-")?$("#srp_stickyplayer").append(d[t].target+"{"+d[t].css+":"+d[t].value+";transition: all 600ms;}"):p.prev("style").append(c+player_uid+d[t].target+"{"+d[t].css+":"+d[t].value+";transition:"+d[t].css+" 600ms;}")}if($(p).hasClass("srp_tracklist_grid")||p.prev("style").append(player_uid+".playlist{background-color:"+o(p.paletteColorsHex[0],10)+";}"),p.find(".srp_player_boxed").length&&"none"!=p.find(".srp_player_boxed").css("background-image")&&-1==p.find(".srp_player_boxed").css("background-image").indexOf("url")&&(p.prev("style").append(player_uid+".srp_player_boxed{background-image:linear-gradient(0deg,"+o(p.paletteColorsHex[4],25)+" 0%, "+o(p.paletteColorsHex[0],20)+" 100%)!important;"),$("#srp_stickyplayer").append("#sonaar-player .player{background-image:linear-gradient(45deg,"+o(p.paletteColorsHex[4],25)+" 0%, "+o(p.paletteColorsHex[0],20)+" 100%)")),void 0!==p.spectrumColor1&&!p.spectrumColor1&&void 0!==p.spectrumColor2&&!p.spectrumColor2){let a=p.spectrumColor1||p.paletteColorsHex[0],s=p.spectrumColor2||p.paletteColorsHex[2];$(".srp_spectrum").each(function(){var e=this.getContext("2d"),t=e.createLinearGradient(0,0,0,this.height);t.addColorStop(.25,a),t.addColorStop(1,s),e.fillStyle=t,e.strokeStyle=t,($(this).parents("#sonaar-player").length&&"true"===sonaar_music.option.sticky_spectro_reflect||!$(this).parents("#sonaar-player").length&&p.spectroReflect)&&srp_spectroReflect(e,this,2.5,a,s)})}if(IRON.sonaar.player.classes.wavesurferEnable){IRON.sonaar.player.wavesurfer.params.waveColor=p.paletteColorsHex[2],IRON.sonaar.player.wavesurfer.params.progressColor=p.paletteColorsHex[1];for(a=0;a<IRON.players.length;a++)IRON.players[a].audioPlayer.id==p.id&&(0==p.attr("data-wave-color")&&(IRON.players[a].wavesurfer.params.waveColor=p.paletteColorsHex[2]),0==p.attr("data-wave-progress-color"))&&(IRON.players[a].wavesurfer.params.progressColor=p.paletteColorsHex[1])}else 0==p.attr("data-wave-color")&&(p.data("wave-color",p.paletteColorsHex[2]),p.attr("data-wave-color",p.paletteColorsHex[2]),p.find(".sonaar_wave_base").css("background-color",p.paletteColorsHex[2])),0==p.attr("data-wave-progress-color")&&(p.data("wave-progress-color",p.paletteColorsHex[1]),p.attr("data-wave-progress-color",p.paletteColorsHex[1]),p.find(".sonaar_wave_cut").css("background-color",p.paletteColorsHex[1])),IRON.audioPlayer.createFakeWave(p,!1),IRON.audioPlayer.stickyEnable&&IRON.audioPlayer.createFakeWave(!1,!0);1==p.adaptiveColorsFreeze&&(p.adaptiveColorsSet=!0),setTimeout(function(){$(p).css("opacity",1)},1e3)}),f.crossOrigin="Anonymous",f.src=e}else $("#srp_stickyplayer").remove(),p.prevAll("style").remove()}function hideEmptyAttribut(e,t){""==e?t.css("display","none"):t.css("display","block")}function setStickyPlayer(){var e;isGutenbergActive()||(e=getCookieValue("sonaar_mp3_player_settings"),"undefined"!=typeof srp_vars&&""!=srp_vars.sonaar_music.footer_albums&&srp_vars.sonaar_music.footer_albums!=[""]||null!=sonaar_music.option.overall_sticky_playlist&&sonaar_music.option.overall_sticky_playlist!=[""]||""!=e?IRON.audioPlayer.stickyEnable=!0:jQuery(".iron-audioplayer").each(function(){jQuery(this).data("sticky-player")&&(IRON.audioPlayer.stickyEnable=!0)}))}function resetsrp_vars(){var e=jQuery('script:contains("var srp_vars")').text();""!==e&&(e=e.split("var srp_vars =")[1],srp_vars=JSON.parse(e.split(";")[0]))}function setIronAudioplayers(t){if($(".srp_search_container, .srp-filters-widget").each(function(){($(this).data("player-id")&&$("#"+$(this).data("player-id")+".iron-audioplayer, #"+$(this).data("player-id")+" .iron-audioplayer").length?$("#"+$(this).data("player-id")+".iron-audioplayer, #"+$(this).data("player-id")+" .iron-audioplayer"):$(".iron-audioplayer").eq(0)).addClass("srp_linked")}),"undefined"!=typeof IRON&&(void 0===IRON||void 0!==IRON.audioPlayer)){if(void 0!==t)e=t.includes('"')||t.includes("'")||!jQuery('[data-id="'+t+'"]').hasClass("iron-audioplayer")?jQuery(t+" .iron-audioplayer"):jQuery('[data-id="'+t+'"]'),void 0===IRON.players&&(IRON.players=[]);else{var e=jQuery(".iron-audioplayer"),a=[];if(void 0!==IRON.players)for(const s in IRON.players)(jQuery(IRON.players[s].audioPlayer).parents(".elementor-widget-music-player").length||jQuery(IRON.players[s].audioPlayer).parents(".elementor-widget-woocommerce-products").length)&&a.push(IRON.players[s]);IRON.players=a}e.each(function(){var e;void 0===t&&jQuery(this).parents(".elementor-widget-woocommerce-products").length||void 0===t&&jQuery(this).parents(".elementor-widget-music-player").length||((e=Object.create(IRON.audioPlayer)).init(jQuery(this)),IRON.players.push(e),$(".iron-audioplayer").length==IRON.players.length&&($(".iron-audioplayer").find(".srp_search_container").length||$(".iron-audioplayer").find(".sr-cf-heading").length||$(".iron-audioplayer").find(".srp_pagination").length)&&srp_setSearchFiltersFromUrl())})}}function stickyPlayerFromPageOption(){var e;""==srp_vars.sonaar_music.footer_albums||IRON.sonaar.player.isPlaying||IRON.sonaar.player.classes.continued?null==sonaar_music.option.overall_sticky_playlist||IRON.sonaar.player.isPlaying||IRON.sonaar.player.classes.continued||"true"!==sonaar_music.option.sr_prevent_continuous_sticky_to_show&&(IRON.sonaar.player.currentTime="",IRON.sonaar.player.totalTime="",IRON.sonaar.player.setPlayer({id:sonaar_music.option.overall_sticky_playlist,autoplay:!1,soundwave:!0,shuffle:"on"===sonaar_music.option.overall_shuffle?"1":""})):(e=Array.isArray(IRON.sonaar.player.playlistID)?IRON.sonaar.player.playlistID[0]:IRON.sonaar.player.playlistID,(Array.isArray(srp_vars.sonaar_music.footer_albums)?srp_vars.sonaar_music.footer_albums[0]:srp_vars.sonaar_music.footer_albums)!=e&&(IRON.sonaar.player.currentTime="",IRON.sonaar.player.totalTime="",IRON.sonaar.player.setPlayer({id:srp_vars.sonaar_music.footer_albums,autoplay:!1,soundwave:!0,shuffle:srp_vars.sonaar_music.footer_albums_shuffle})))}function sr_filterInit(){var s,e=document.querySelectorAll("[data-sr-filters-atts]"),e=(e.length&&(sonaarFilter=Vue.component("sonaar-filters",{components:{Multiselect:window.VueMultiselect.default},template:'<div class="srp-filters-widget" :data-player-id="atts.playerid" >\x3c!--<label class="typo__label">{{atts.metakey}}</label>--\x3e<multiselect :key="componentKey" :ref="atts.metakey"v-model="value":options="atts.options"placeholder="Pick some":multiple="(atts.selecttype == \'multiselect\') ? true : false":close-on-select="true":clear-on-select="false":preserve-search="false":placeholder="atts.label":hide-selected="false":show-labels="false":searchable="false":readonly="true"label=""track-by="":preselect-first="false"@remove="removeTag"@input="listAllAction"@select="dispatchAction":data-metakey="atts.metakey" :data-label="atts.label"><template slot="selection" slot-scope="{ values, search, isOpen }"><span class="multiselect__multiple"  v-if="values.length">{{ atts.label }} ({{ values.length }}+)</span></template><template slot="tag">{{ "" }}</template></multiselect></div>',props:["atts"],data:function(){return{componentKey:0,value:this.initializeFilter()}},methods:{initializeFilter(){var e=srp_getPlayerIdParamFromUrl();if(""==this.atts.playerid&&null===e||e==this.atts.playerid)return srp_getMetaParams(this.atts.metakey)},dispatchAction(e){"singleselect"==this.atts.selecttype&&this.removeTag(),srp_addMeta(this.atts.playerid,this.atts.metakey,e)},removeTag(e){srp_removeMeta(this.atts.metakey,e,this.atts.playerid)},listAllAction(e){}}}),e.forEach(function(e){var t=JSON.parse(e.getAttribute("data-sr-filters-atts")),e=new Vue({el:e,data:{},template:'<div class="srp-filters-container" >        <sonaar-filters v-for="(item, index) in atts.options" :atts="item"/>        </div>',created:function(){this.atts=t}});myVueAr.push(e)})),document.querySelectorAll(".srp_filter_container"));e.length&&(s=function(e,t){for(var a=[],s=0;s<t;[s++].push.apply(a,e));return a}(["#E2675A","#FFA374","#FDECB3","#FACA83","#FFCFD7","#7E69FF","#EDFFAE","#9BC48D","#D4FDE1","#CDF1F8","#B9C1E3","#AE98E5","#7DB04D","#CCE780","#8393CC","#00BFAF","#10A4EE","#BFFB00","#FF94A6","#F7F47C","#5171E4"],3),e.forEach(function(a){a.style.opacity="1",a.style.visibility="visible",(btEl=a.querySelectorAll("li .srp_filter_button")).forEach(function(e,t){"true"===a.dataset.randomcolor&&e.setAttribute("data-color",s[t]),e.playerid=""!=e.dataset.playerid?e.dataset.playerid:null,e.onclick=function(){this.classList.contains("srp_filter_button--active")?srp_removeMeta(this.dataset.metakey,this.dataset.value,this.playerid):("true"===a.dataset.randomcolor&&(this.style.backgroundColor=this.dataset.color,this.style.borderColor=this.dataset.color),this.classList.add("srp_filter_button--active"),"singleselect"==this.dataset.selecttype&&srp_removeMeta(this.dataset.metakey,null,this.playerid),srp_addMeta(this.playerid,this.dataset.metakey,this.dataset.value))}})}))}function updateFilterSelector(e,t=null){for(const r in myVueAr){var a=myVueAr[r];if(void 0!==a&&$(a.$el).find(".srp-filters-widget").data("playerId")==t)for(const i in a.$children){var s=e[a.$children[i].atts.metakey];a.$children[i].value=void 0!==s?s.split(","):[]}}}function sr_setCookieSettings(){if(IRON.sonaar.player.classes.feedUrl&&!IRON.sonaar.player.elWidgetId)document.cookie="sonaar_mp3_player_settings=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="sonaar_mp3_player_time=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";else{let e;e=void 0!==IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack]&&void 0!==IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack].track_index?IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack].track_index:IRON.sonaar.player.currentTrack;var t={playlistID:IRON.sonaar.player.elWidgetId?IRON.sonaar.player.postId:IRON.sonaar.player.playlistID.toString().split(", "),trackID:e,elWidgetId:IRON.sonaar.player.elWidgetId,shuffle:IRON.sonaar.player.shuffle,mute:IRON.sonaar.player.mute,isPlaying:IRON.sonaar.player.isPlaying,minimize:IRON.sonaar.player.minimize,jsonPostRelated:IRON.sonaar.player.cookieSetting.jsonPostRelated};""!=t.playlistID&&(document.cookie="sonaar_mp3_player_settings="+JSON.stringify(t)+";default;path=/")}}function sr_setCookieVolume(){document.cookie="sonaar_mp3_player_volume="+IRON.sonaar.player.volume+";default;path=/"}function sr_setCookieTime(){var e;IRON.sonaar.player.classes.continuousPlayer&&(IRON.sonaar.player.elWidgetId&&IRON.sonaar.player.classes.feedUrl||!IRON.sonaar.player.classes.feedUrl)&&(e=sr_getTrackCurrentTime(),document.cookie="sonaar_mp3_player_time="+e+";default;path=/")}function sr_getCookieSettings(){var e=getCookieValue("sonaar_mp3_player_settings"),t=getCookieValue("sonaar_mp3_player_volume"),a=getCookieValue("sonaar_mp3_player_time");""!=e?sr_setPlayerfromCookieSettings(JSON.parse(e),t):sr_setVolume(t),""!=a&&sr_setTrackCurrentTime(a)}function sr_getCookieVolume(){var e=getCookieValue("sonaar_mp3_player_volume");sr_setVolume(e),IRON.audioPlayer.stickyEnable&&IRON.sonaar.player.classes.wavesurferEnable&&(IRON.sonaar.player.cookieSetting.volume=e)}function getCookieValue(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),s=0;s<a.length;s++){for(var r=a[s];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function sr_setPlayerfromCookieSettings(e,t){IRON.sonaar.player.setPlayer({id:e.playlistID,elwidgetid:e.elWidgetId,trackid:e.trackID,shuffle:e.shuffle,json:e.jsonPostRelated,continuous:!0});var a=!0;IRON.sonaar.player.classes.wavesurferEnable?(IRON.sonaar.player.cookieSetting.mute=e.mute,IRON.sonaar.player.cookieSetting.volume=t,IRON.sonaar.player.cookieSetting.isPlaying=e.isPlaying):(sr_setVolume(t),sr_setMute(e.mute),e.isPlaying&&$("#sonaar-audio").on("loadeddata",function(){a&&(a=!1,IRON.sonaar.player.playAudio())})),IRON.sonaar.player.classes.dontCountContinuous=!0,IRON.sonaar.player.classes.continued=!0,IRON.sonaar.player.minimize=e.minimize,IRON.sonaar.player.postId=e.playlistID,IRON.sonaar.player.elWidgetId=e.elWidgetId,IRON.sonaar.player.classes.feedUrl=!!IRON.sonaar.player.elWidgetId,IRON.sonaar.player.cookieSetting.jsonPostRelated=e.jsonPostRelated}function sr_getTrackCurrentTime(){return currentTime=IRON.sonaar.player.classes.wavesurferEnable?IRON.sonaar.player.wavesurfer.getCurrentTime():document.getElementById("sonaar-audio").currentTime}function sr_getTrackDuration(){return IRON.sonaar.player.classes.wavesurferEnable?IRON.sonaar.player.wavesurfer.getDuration():document.getElementById("sonaar-audio").duration}function sr_setTrackCurrentTime(e){IRON.sonaar.player.cookieSetting.currentTime=e;var t=!0;IRON.sonaar.player.classes.wavesurferEnable||$("#sonaar-audio").on("loadeddata",function(){t&&(t=!1,e>sr_getTrackDuration()||"Infinity"==sr_getTrackDuration()||(document.getElementById("sonaar-audio").currentTime=e))})}IRON.canvasAnimation=[],iOS&&(match=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/),(iOSVersion=[parseInt(match[1],10),parseInt(match[2],10),parseInt(match[3]||0,10)])[0]<16)&&(webAudioNotSupported=!0),IRON.audioPlayer=function(w){"use strict";var b,C,P,O=Boolean("wavesurfer"===sonaar_music.option.waveformType),R=!1;function x(e,t,a,s){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t,album:t,artwork:[{src:s,sizes:"512x512",type:"image/jpeg"}]}))}var N=function(e,t){var a;t.hasClass("srp_player_spectrum")&&!IRON.audioPlayer.stickyEnable&&(a=srp_convertPlayerIdToPlayerNum(t.attr("id")),void 0===IRON.players[a].audioElement?startAudioSpectrum(t):startAudioSpectrum(t,!1,!0)),O&&!e.isPlaying()&&A(t,e)};function I(e,t,a,s){var r,i,n=a.find(".album .album-art"),o=(a.find(".album"),a.find(".track-title")),l=a.find(".sr_it-artists-value"),d=a.find(".srp_subtitle"),c=(void 0!==a.data("albumart")?a:e).data("albumart");"1"!=a.data("hide-artwork")&&"true"!=a.data("hide-artwork")&&(c?(a.removeClass("sonaar-no-artwork"),n.find("img").length?n.find("img").attr("src",c):n.css("background-image","url("+c+")")):a.addClass("sonaar-no-artwork")),srp_getColorsFromImage(a,c),a.hasClass("show-playlist")||n.css("cursor","pointer"),a.data("currentTrack",t),o.html(e.data("tracktitle")),l.text(e.data("trackartists")),d.text(e.data("releasedate")),a.find(".player").removeClass("hide"),a.find(".wave").removeClass("reveal"),e.data("showloading")?a.find(".progressLoading").css("opacity","0.75"):a.find(".player").addClass("hide"),"skin_boxed_tracklist"==a.data("playertemplate")&&a.find(".srp_track_cta").append(e.find(".song-store-list-container")),a.stickyPlayer||!O||s.firstLoad||E(e.data("audiopath"),s),r=a,i=s,O||w(i).on("timeupdate",function(){var e=i.currentTime,e=(D(r,e),moment.duration(e,"seconds"));12<=e.hours()||e.hours()<=0?r.find(".currentTime").html(moment(e.minutes()+":"+e.seconds(),"m:s").format("mm:ss")):r.find(".currentTime").html(moment(e.hours()+":"+e.minutes()+":"+e.seconds(),"h:m:s").format("h:mm:ss")),i.duration!==1/0?12<=(e=moment.duration(i.duration-i.currentTime,"seconds")).hours()||e.hours()<=0?r.find(".totalTime").html("-"+moment(e.minutes()+":"+e.seconds(),"m:s").format("mm:ss")):r.find(".totalTime").html("-"+moment(e.hours()+":"+e.minutes()+":"+e.seconds(),"h:m:s").format("h:mm:ss")):r.find(".totalTime").html("")}),hideEmptyAttribut(e.data("releasedate"),a.find(".srp_subtitle")),O||""!=w(a).find(".sonaar_fake_wave svg").html()&&a.stickyPlayer||createFakeWave(a),a.stickyPlayer||S(a,e.attr("data-albumtitle")),a.find(".sr_it-playlist-publish-date").text(e.data("date"))}function S(e,t){var a=e.find(".sr_it-playlist-title, .album-title");void 0!==e.data("playlist_title")&&e.data("playlist_title").length?a.text(e.data("playlist_title")):a.text(t)}function T(e){var t=new Array,a=0;return w(e).each(function(){t.push(a),a++,t=t.sort(function(e,t){return.5-Math.random()})}),t}w(window).on("resize",function(){IRON.audioPlayer.activePlayer&&startAudioSpectrum(IRON.audioPlayer.activePlayer),void 0!==sonaar_music.option.sticky_spectro_style&&"none"!=sonaar_music.option.sticky_spectro_style&&startAudioSpectrum("#sonaar-player"),w(".iron-audioplayer").each(function(){srp_setTrackListColumns(this)})});var i=!1;function M(t){let e;var a="opened"==(e=t.parents(".sr-playlist-item").length?t.parents(".sr-playlist-item"):t.parents(".srp_player_boxed")).find(".srp_note").attr("data-note");t.parents(".iron-audioplayer").find(".srp_note_opened").each(function(){const e=w(this);w(this).removeClass("srp_note_opened"),w(this).find(".srp_note").attr("data-note","closed"),t.parents(".sr-playlist-item").length?(w(this).find(".srp_noteButton i.sricon-close-circle").removeClass("sricon-close-circle").addClass("sricon-info"),w(this).find(".srp_note").css("opacity",1).slideUp(125,function(){e.find(".srp_track_description").length&&e.find(".srp_track_description").fadeIn(75)}).animate({opacity:0},{queue:!1,duration:125})):w(this).find(".srp_note").fadeOut(125)}),a||(e.find(".srp_note").attr("data-note","opened"),t.parents(".sr-playlist-item").length?(e.find(".srp_noteButton i.sricon-info").removeClass("sricon-info").addClass("sricon-close-circle"),e.find(".srp_track_description").length?e.find(".srp_track_description").fadeOut(75,function(){e.find(".srp_note").css("opacity",0).slideDown(125).animate({opacity:1},{queue:!1,duration:250})}):e.find(".srp_note").css("opacity",0).slideDown(125).animate({opacity:1},{queue:!1,duration:250})):e.find(".srp_note").fadeIn(125),e.addClass("srp_note_opened"))}function D(e,t){var a,s="",r=0;for(e=e.stickyPlayer?(a=IRON.sonaar.player.currentTrack,IRON.sonaar.player.selectedPlayer.id):(a=w(e).find(".sr-playlist-item.current").index(),w(".iron-audioplayer.sr_selectedPlayer").data("id")),w(".srp_selected_player").removeClass("srp_selected_player"),w('#sonaar-modal[data-track-number="'+a+'"][data-player-id="'+e+'"]').addClass("srp_selected_player");r<10&&0==s.length;)s=w('#srmp3_lyrics_container p[begin="'+(t-r)+'"], #srmp3_lyrics_container p[begin^="'+Math.floor(t-r)+'."], #sonaar-modal.srp_selected_player p[begin="'+(t-r)+'"], #sonaar-modal.srp_selected_player p[begin^="'+Math.floor(t-r)+'."]'),r++;s.length&&(s.parents(".srmp3_lyrics, #sonaar-modal.srp_selected_player").addClass("srmp3_singning"),w(".srmp3_lyrics_read").removeClass("srmp3_lyrics_read"),s.addClass("srmp3_lyrics_read"),jQuery("#srmp3_sticky_lyrics").replaceWith(jQuery("<span>",{id:"srmp3_sticky_lyrics",class:"srmp3_lyrics_container",title:w(s[0]).text(),text:w(s[0]).text()}).appendTo("#srmp3_lyricsplaying_container")),document.getElementById("srmp3_lyrics_container").classList.contains("srp_lyric_unlock")||(srp_lyricsAreScrolling=!0,document.querySelector("#srmp3_lyrics_container .srmp3_lyrics_read").scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})))}function a(r){w(".sr_selectedPlayer .sonaar_fake_wave, #sonaar-player .sonaar_fake_wave, .mobileProgress").on("click",function(e){t="sticky"==r?document.getElementById("sonaar-audio"):w(this).find(".sonaar_media_element")[0];var t,a=w("body").hasClass("rtl")?w(this).width()/(w(this).width()-e.offsetX):w(this).width()/e.offsetX,s="Infinity"==t.duration?t.buffered.end(t.buffered.length-1):t.duration;t.currentTime=s/a,e.preventDefault()})}w(".srp_search").keyup(function(e){let t=w(this).parents(".srp_search_container").data("player-id");var a;w(this).parents(".iron-audioplayer").length&&(t=(w(this).parents(".elementor-widget-music-player").length&&void 0!==w(this).parents(".elementor-widget-music-player").attr("id")?w(this).parents(".elementor-widget-music-player"):w(this).parents(".iron_widget_radio").attr("id").startsWith("arbitrary-instance-")?w(this).parents(".iron-audioplayer"):w(this).parents(".iron_widget_radio")).attr("id"),w(this).parents(".srp_search_container").attr("data-player-id",t)),13===e.keyCode&&(w(this).parents(".srp_search_container").data("url")&&(a=w(this).parents(".srp_search_container").data("url")+"?srp_search="+w(this).val(),null!=t&&(a=a+"&srp_player_id="+t),w(location).prop("href",a)),w(".srp_search").blur(),e.preventDefault());let s=".srp_search_container:not([data-player-id]) .srp_reset_search";null!=t&&(s='.srp_search_container[data-player-id="'+t+'"] .srp_reset_search'),w(s).css("display","initial"),""==w(this).val()&&w(this).parents(".srp_search_container").find(".srp_reset_search").css("display","none");const r=this;!1===i&&(i=!0,setTimeout(function(){var e=null!==srp_convertPlayerIdToPlayerNum(t)?srp_convertPlayerIdToPlayerNum(t):0;0==e&&null!=t&&w(".srp_search_container:not([data-player-id]) .srp_search").length&&!w(r).parents(".iron-audioplayer").length&&(document.querySelector(".srp_search_container:not([data-player-id]) .srp_search").value=""),void 0!==IRON.players[e]&&(void 0===IRON.players[e].audioPlayer.params?IRON.players[e].audioPlayer.params={playerId:t,search:w(r).val()}:(IRON.players[e].audioPlayer.params.playerId=t,IRON.players[e].audioPlayer.params.search=w(r).val()),srp_updateList(e)),i=!1},700))}),w(".srp_search_container .srp_reset_search").click(function(){srp_removeMeta("search",w(this).parents(".srp_search_container").find("input")[0].value,w(this).parents(".srp_search_container").data("player-id"))});var E=function(e,t){O?P.find("li").length&&(elementAudio.src=e,setTimeout(function(){C.stickyPlayer?t.load(elementAudio):t.load(e)},250)):(jQuery(t).attr("src",e),t.load(),C.stickyPlayer||O||(w(".sr_selectedPlayer").removeClass("sr_selectedPlayer"),w(t).parents(".iron-audioplayer").addClass("sr_selectedPlayer")),a("widget"))};function A(e,t){w(".iron-audioplayer").removeClass("sr_selected"),e.addClass("sr_selected"),w(".iron-audioplayer, .srmp3_sonaar_ts_shortcode").removeClass("audio-playing"),j(t)?(e.addClass("audio-playing"),void 0!==e.data("ts-sync")&&w("#sonaar_ts-"+e.data("ts-sync")).addClass("audio-playing"),e.find(".currentTime, .totalTime").show()):w("#sonaar-player .play").removeClass("audio-playing")}function Y(t){w.each(IRON.players,function(e){IRON.players[e]!=t&&IRON.players[e].wavesurfer.pause()})}function $(e,t,a){var s;e.stickyPlayer?(s=e.data("currentTrack"),t.pause(),void 0!==a&&a.find("li").eq(s).find(".srp_audio_trigger").click()):(O||""!=t.currentSrc||(E(w(e).find(".playlist li").eq(w(e).attr("trackselected")).data("audiopath"),t),w(document).trigger("sonaarStats",[e])),e.find(".playlist li").hasClass("current")||((a=w(e).find(".playlist li").eq(w(e).attr("trackselected"))).addClass("current"),e.stickyPlayer)||IRON.audioPlayer.sr_loadLyricsAjax(a.attr("data-post-id"),a.attr("data-track-pos")),j(t)?t.pause():t.play(),A(e,t))}function W(e,t,a){var s,r;IRON.audioPlayer.stickyEnable&&e.hasClass("sr_selectedPlayer")?IRON.sonaar.player.previous():(s=e.data("currentTrack"),e.shuffle?w(R).each(function(e){this==s&&(r=0==e?R[R.length-1]:R[e-1])}):r=s-1,O&&"2"<t.getCurrentTime()?t.seekTo(0):a.find("li").eq(r).find(".srp_audio_trigger").click())}function L(e,t,a){var s,r;IRON.audioPlayer.stickyEnable&&e.hasClass("sr_selectedPlayer")?IRON.sonaar.player.next():(s=e.data("currentTrack"),e.shuffle?w(R).each(function(e){this==s&&(r=e>=R.length-1?R[0]:R[e+1])}):r=s+1,a.find("li").eq(r).length||!e.hasClass("srp_noLoopTracklist")||IRON.audioPlayer.stickyEnable?(a.find("li").eq(r).length||(r=0),t.pause(),a.find("li").eq(r).find(".srp_audio_trigger").click()):(t.pause(),e.removeClass("audio-playing"),w(".srmp3_sonaar_ts_shortcode").removeClass("audio-playing")))}function j(e){return O?e.isPlaying():!e.paused}return{init:function(e){C=e,this.audioPlayer=e;var a,s,r,t,i,n,e=this.audioPlayer.find(".player .wave").attr("id");P=C.find(".playlist .srp_list"),this.playlist=P,this.autoplayEnable=C.data("autoplay"),C.spectrumColor1=!1,C.spectrumColor2=!1,C.id=C.data("id"),C.albums=C.data("albums"),C.remove_wave=C.data("no-wave"),C.shuffle=C.data("shuffle")||!1,C.stickyPlayer=IRON.audioPlayer.stickyEnable,C.notrackskip=C.data("notrackskip"),C.playerType=C.data("playertemplate"),C.hide_progressbar=!!C.data("hide-progressbar"),C.adaptiveColors=C.data("adaptive-colors"),C.adaptiveColorsFreeze=C.data("adaptive-colors-freeze"),C.progressType=C.data("progress-bar-style"),C.adaptiveColors||w(C).css("opacity",1),sr_setPopUp(),R=T(P.find("li")),C.data("scrollbar")&&(o=w(C).find(".playlist .srp_list")[0],new PerfectScrollbar(o,{wheelSpeed:.7,swipeEasing:!0,wheelPropagation:!1,minScrollbarLength:20,suppressScrollX:!0,maxScrollbarLength:100})),0==C.data("wave-color")?C.soundwaveColorBG=""===C.soundwaveColorBG||void 0===C.soundwaveColorBG?sonaar_music.option.music_player_timeline_color:C.soundwaveColorBG:C.soundwaveColorBG=""===C.soundwaveColorBG||void 0===C.soundwaveColorBG?C.data("wave-color"):C.soundwaveColorBG,0==C.data("wave-progress-color")?C.soundwaveProgressColor=""===C.soundwaveProgressColor||void 0===C.soundwaveProgressColor?sonaar_music.option.music_player_progress_color:C.soundwaveProgressColor:C.soundwaveProgressColor=""===C.soundwaveProgressColor||void 0===C.soundwaveProgressColor?C.data("wave-progress-color"):C.soundwaveProgressColor,O?(""!=jQuery.trim(jQuery("#"+e).html())&&jQuery("#"+e).html(""),parseInt(w(C).find(".wave").css("height").replace("px","")),r=WaveSurfer.create({container:"#"+e,scrollParent:!0,waveColor:"#D9DCFF",progressColor:"#4353FF",cursorColor:"#4353FF",barWidth:2,barRadius:3,barHeight:1,barGap:2}),console.log(r),r.firstLoad=!0,r.remove_wave=C.remove_wave,r.on("ready",function(){var e=w(r.container).parents(".iron-audioplayer");r.remove_wave&&r.firstLoad&&IRON.audioPlayer.stickyEnable&&(r.firstLoad=!1,IRON.sonaar.player.play()),r.firstLoad||isGutenbergActive()?r.firstLoad=!1:(r.play(),startAudioSpectrum(e),w(".sr_selected").addClass("audio-playing"),w(".sr_selected").find(".currentTime, .totalTime").show()),e.find(".player").addClass("reveal"),w(".wave").addClass("reveal"),e.find(".progressLoading").css("opacity","0"),0!=srp_startingTime&&(e=convertTime(srp_startingTime)/r.getDuration(),srp_startingTime=0,r.seekTo(e))}),a=C,s=0,r.on("audioprocess",function(){var e,t;s<20?s++:(s=0,t=r.getCurrentTime(),D(a,t),e=r.getDuration(),12<=(t=moment.duration(t,"seconds")).hours()||t.hours()<=0?a.find(".currentTime").html(moment(t.minutes()+":"+t.seconds(),"m:s").format("mm:ss")):a.find(".currentTime").html(moment(t.hours()+":"+t.minutes()+":"+t.seconds(),"h:m:s").format("h:mm:ss")),e!==1/0&&(12<=(t=moment.duration(r.getDuration()-r.getCurrentTime(),"seconds")).hours()||t.hours()<=0?a.find(".totalTime").html("-"+moment(t.minutes()+":"+t.seconds(),"m:s").format("mm:ss")):a.find(".totalTime").html("-"+moment(t.hours()+":"+t.minutes()+":"+t.seconds(),"h:m:s").format("h:mm:ss"))))}),r.on("loading",function(){var e=arguments[0];C.find(".progressLoading").css("background",sonaar_music.option.music_player_timeline_color),C.find(".progressLoading").css("width","calc( "+e+"% - 200px )")})):(r=w("#"+e).find(".sonaar_media_element")[0],i=C,n=P,w(t=r).on("timeupdate",function(){var e="Infinity"==this.duration?this.buffered.end(this.buffered.length-1):this.duration;w(i).find(".sonaar_wave_cut").width(this.currentTime/e*100+"%"),t.ended&&("on"!==i.notrackskip?L(i,t,n):(i.removeClass("audio-playing"),w(".srmp3_sonaar_ts_shortcode").removeClass("audio-playing")))}),w(C).find(".wave").css("opacity","1")),this.wavesurfer=r;{var o=P,u=r,p=C;let e=0,c=[],t=(o.find("li").each(function(t){w(this).data("relatedtrack")?c.push(""):c.push(t+1);{var s=w(this),r=w(this).index(),i=(t=c[w(this).index()],u),n=p,t=(s.find(".audio-track").remove(),w("<span/>",{class:"track-number",html:'<span class="number">'+t+'</span><i class="sricon-play"></i>'})),a=(w(""),w("<div/>",{class:"srp_audio_trigger",click:function(e){var t,a;w(this).find(".srp_noteButton:hover").length||0!=w(this).parents(".sr-playlist-item").attr("data-audiopath").length&&(n.stickyPlayer&&w(n).hasClass("sr_selectedPlayer")&&IRON.sonaar.player.currentTrack==r?IRON.sonaar.player.play():(n.stickyPlayer&&(IRON.sonaar.player.setPlaylist(n,r,srp_startingTime),srp_startingTime=0,n.data("currentTrack",r)),j(i)&&s.hasClass("current")&&w(n).hasClass("sr_selected")?(n.stickyPlayer?$:(Y(n),A))(n,i):s.hasClass("current")&&w(n).hasClass("sr_selected")?$(n,i):(n.stickyPlayer||Y(n),n.stickyPlayer||O||(""==i.currentSrc&&w(n).attr("first-track-loading","true"),E(s.data("audiopath"),i),i.play()),I(s,r,n,i),w(document).trigger("sonaarStats",[n]),n.find(".playlist li").removeClass("current"),s.addClass("current"),n.stickyPlayer||IRON.audioPlayer.sr_loadLyricsAjax(s.attr("data-post-id"),s.attr("data-track-pos")),N(i,n),A(n,i),IRON.audioPlayer.activePlayer=n,t=s.data("tracktitle").replace(/<span.*?span>/g,""),a=s.data("albumtitle"),s.data("artistname"),x(t,a,0,s.data("albumart"))),!n.hasClass("srp_player_spectrum")||O||n.stickyPlayer||startAudioSpectrum(n),e.preventDefault()))}})),o,l,d;s.find(".srp_tracklist-item-date").remove();let e='<span class="srp_tracklist-item-date" date="'+s.data("date")+'"';"1"!=s.data("show-date")&&(e+=' style="display:none;"'),e=(e+=">"+function(e){e=new Date(e);return moment(e).format("LL")}(s.data("date"))+"</span>")+'<span class="tracklist-item-time">'+s.data("tracktime")+"</span>",s.data("post-url")?(o=w("<div/>",{class:"audio-track"}),d=a,l=w("<a/>",{class:"tracklist-item-title",href:s.data("post-url")}).append(s.data("tracktitle")),w(a).addClass(w(t).attr("class")).html(w(t).html())):(o=w(a).addClass("audio-track"),l=w("<div/>",{class:"tracklist-item-title"}).append(s.data("tracktitle")),d=t),o.appendTo(s).prepend(d).append(l).append(e),w(n).hasClass("srp_tracklist_grid")&&(a=s.find(".srp_noteButton").clone(),o.append(a)),s.find(".store-list").before(s.find(".audio-track")),w(n).hasClass("srp_tracklist_grid")&&(s.find(".store-list").before(s.find(".srp_tracklist-item-date")),s.find(".store-list").before(s.find(".srp_track_description"))),s.find(".sr-playlist-cf-container").before(s.find(".audio-track")),s.find(".sr-playlist-cf-container").before(s.find(".sr_track_cover.srp_spacer"))}"1"!=w(this).data("relatedtrack")&&w(this).data("tracktime")&&(convertTime(w(this).data("tracktime")),e+=convertTime(w(this).data("tracktime"))),p.hasClass("srp_has_customfields")&&setColumnCta(this)}),e=60*Math.round(e/60),e=moment.duration(e,"seconds"),""),a=e._milliseconds/6e4,s=Math.floor(a/60);if(0<s&&(a-=60*s,t+=s+" "+p.find(".srp_playlist_duration").data("hours-label")+" "),t+=a+" "+p.find(".srp_playlist_duration").data("minutes-label"),p.find(".srp_playlist_duration").html(t),!p.hasClass("srp_reordered")&&(p.hasClass("srp_linked")||p.find(".srp_search_container").length||p.find(".sr-cf-heading").length||p.find(".srp_pagination").length)){var l=p;if(l.find(".srp_list li").length&&"undefined"!=typeof List){const k=["srp_cf_data","tracklist-item-title","srp_track_description","tracklist-item-time",{name:"srp_tracklist-item-date",attr:"date"}];l.find(".sr-playlist-heading-child").each(function(){var e=w(this).attr("data-sort");k.push(e)}),l.find(".srp_cf_data").each(function(){w(w(this).attr("class").split(" ")).each(function(){this.includes("sr-playlist-cf--")&&k.push(this)})});for(var d={valueNames:k,listClass:"srp_list",searchClass:"srp_search",sortClass:"srp_sort",searchDelay:1e3},h=(l.data("tracks-per-page")&&(d.page=l.data("tracks-per-page"),d.pagination=[{name:"srp_pagination",item:'<li><span class="page" onclick="srp_scrollToTrackListTop(\''+l.id+"')\"></span></li>",paginationClass:"srp_pagination",outerWindow:1,innerWindow:1}],l.find(".srp_pagination--prev").on("click",function(){0<l.find(".srp_pagination").find(".active").prev().length&&l.find(".srp_pagination").find(".active").prev().find("span")[0].click()}),l.find(".srp_pagination--next").on("click",function(){0<l.find(".srp_pagination").find(".active").next().length&&l.find(".srp_pagination").find(".active").next().find("span")[0].click()})),l.find(".playlist").attr("id")),f=0;f<IRON.players.length&&IRON.players[f].audioPlayer.attr("id")!=h;f++);l.orderedList=new List(h,d),l.orderedList.on("updated",function(){IRON.audioPlayer.stickyEnable&&IRON.sonaar.player.selectedPlayer==l&&(IRON.sonaar.player.selectedPlayer=null,l.removeClass("sr_selectedPlayer"),l.removeClass("audio-playing"),IRON.sonaar.player.playlistID=null),l.addClass("srp_reordered");var e=Object.create(IRON.audioPlayer);e.init(l),IRON.players[f]=e,l.orderedList.matchingItems.length?(l.find(".srp_notfound").css("display","none"),l.find(".sr-cf-heading").css("display","flex"),l.find(".srp_pagination_container").css("display","flex")):(l.find(".srp_notfound").css("display","block"),l.find(".sr-cf-heading").css("display","none"),l.find(".srp_pagination_container").css("display","none")),w(".iron-audioplayer").each(function(){srp_setTrackListColumns(this)})})}}}e=C.shuffle?Math.floor(Math.random()*P.find("li").length):P.find("li").not('[data-relatedtrack="1"]').index();var c,m,y,d=P.find("li").eq(e),_=(w(C).attr("trackselected",e),I(d,e,C,r),S(C,d.attr("data-albumtitle")),C.find(".sr_it-playlist-publish-date").text(d.data("date")),!C.remove_wave&&O&&E(P.find("li").eq(e).data("audiopath"),r),r),g=C,v=P;g.unbind("click"),g.stickyPlayer?(g.on("click",".play, .album .album-art",function(e){w(g).hasClass("sr_selectedPlayer")?IRON.sonaar.player.play():$(g,_,v),e.preventDefault()}),g.on("click",".previous",function(e){W(g,_,v),e.preventDefault()}),g.on("click",".next",function(e){L(g,_,v),e.preventDefault()})):(g.on("click",".play, .album .album-art",function(e){Y(g),g.hasClass("audio-playing")?Y(g):($(g,_),N(_,g)),A(g,_),e.preventDefault()}),g.on("click",".previous",function(e){W(g,_,v),e.preventDefault()}),g.on("click",".next",function(e){L(g,_,v),e.preventDefault()})),g.on("click",".sr_skipForward",function(){sr_audioSkipTo(30,_)}),g.on("click",".sr_skipBackward",function(){sr_audioSkipTo(-15,_)}),g.on("click",".sr_shuffle",function(e){sr_shuffleToggle(e,g)}),g.on("click",".sr_speedRate",function(e){sr_setSpeedRate(e,g,_)}),g.on("click",".volume .sricon-volume",function(e){sr_muteTrigger(e,g,_)}),g.on("mouseenter",".volume .sricon-volume",function(e){sr_updateSlider(e,g)}),g.on("click",".srp_noteButton i",function(){let e;if(0==(e=w(this).parents(".sr-playlist-item").length?w(this).parents(".sr-playlist-item"):w(this).parents(".srp_player_boxed")).find(".srp_note").length){const a=w(this);srp_wc_loadspinner(a);var t={action:"load_track_note_ajax","post-id":w(this).data("source-post-id"),"track-position":w(this).data("track-position"),"track-title":w(this).data("track-title"),"track-desc-postcontent":w(this).data("track-use-postcontent"),security:srp_vars.ajax.security};w.post(srp_vars.ajax.ajaxurl,t,function(e){srp_wc_unloadspinner(a),e=JSON.parse(e);var t=w("<article/>",{class:"srp_note"});w(t).hide(),w(t).prepend('<div class="sr_close">'+closeSvg+"</div>"+e),a.parents(".sr-playlist-item").length?0==a.parents(".sr-playlist-item").find(".srp_note").length&&(a.parents(".srp_tracklist_grid").length?a.parents(".sr-playlist-item").find(".store-list").before(t):a.parents(".sr-playlist-item").append(t)):w(g).find(".srp_player_boxed").prepend(t),M(a)})}else M(w(this))}),g.on("click",".sr_track_cover",function(e){!g.hasClass("srp_tracklist_grid")||w(e.target).is(".srp_play *")||w(this).parents(".sr-playlist-item").data("post-url")&&(window.location.href=w(this).parents(".sr-playlist-item").data("post-url"))}),g.on("click",".sr_track_cover .srp_play",function(){w(this).parents(".sr-playlist-item").find(".srp_audio_trigger").click()}),g.on("click",".srp_note .sr_close",function(){M(w(this))}),g.on("mouseenter",".sr-playlist-item:not(.srp_extendable) .song-store-list-menu",function(){openStoreListContainer(this)}),g.on("mouseleave",".sr-playlist-item:not(.srp_extendable) .song-store-list-container",function(){closeStoreListContainer(this)}),g.on("mouseenter",".srp_extendable, .song-store-list-menu, .srp_ellipsis",function(){var e;(w(g).hasClass("srp_responsive")&&w(".song-store-list-menu:hover, .srp_ellipsis:hover").length||!g.hasClass("srp_responsive"))&&((e=w(this).hasClass("srp_extendable")?w(this):w(this).parents(".srp_extendable")).find(".song-store-list-menu").width("fit-content"),e.addClass("srp_extended"))}),g.on("mouseleave",".srp_extendable",function(){let e;e=g.hasClass("srp_responsive")?w(this).find(".song-store-list-menu").data("mobile-width")?w(this).find(".song-store-list-menu").data("mobile-width"):100:w(this).find(".song-store-list-menu").data("width")?w(this).find(".song-store-list-menu").data("width"):200,w(this).find(".song-store-list-menu").width(e),w(this).removeClass("srp_extended")}),O&&(m=C,y=P,(c=r).on("finish",function(){"on"===m.notrackskip?(c.seekTo(0),IRON.sonaar.player.wavesurfer.seekTo(0),A(m,c),IRON.sonaar.player.wavesurfer.pause()):m.stickyPlayer||L(m,c,y)})),C.data("autoplay")&&(b=!0),sr_playerCTAresponsive(),sr_initSlider(C.find(".slider-container .slide"),C,r),srp_js_dynamic_style(C),srp_setTrackListColumns(C[0])},getPlayer:function(){return this},play:function(){$(this.audioPlayer,this.wavesurfer)},autoplayEnable:b,triggerPlay:N,stickyEnable:!1,ajaxInitPage:function(){setIronAudioplayers(),resetsrp_vars(),setStickyPlayer(),stickyPlayerFromPageOption()},createFakeWave:createFakeWave,fakeWaveClick:a,karaokeMode:D,sr_loadLyricsAjax:sr_loadLyricsAjax,updatePlaylistTitle:S,setRandomList:T,setMediaSessionAPI:x,seekTime:function(e){var t;IRON.audioPlayer.stickyEnable?IRON.sonaar.player.seekTime(e):e&&(O?(t=convertTime(e)/this.wavesurfer.getDuration(),this.wavesurfer.seekTo(t)):this.audioPlayer.find(".sonaar_media_element")[0].duration!==1/0&&(this.audioPlayer.find(".sonaar_media_element")[0].currentTime=convertTime(e)))}}}(jQuery),jQuery(document).on("sonaarStats",function(e,t){var a,s;s="sonaar-player"==$(t).attr("id")?$(t):(a=t.data("currentTrack"),t.find(".playlist .srp_list li").eq(a)),clearTimeout(sonaarStatsTimeOut),sonaarStatsTimeOut=setTimeout(function(){var e;IRON.sonaar.player.classes.dontCountContinuous||(srp_vars.sonaar_music.use_built_in_stats&&(e=""!==s.attr("data-trackid")?s.attr("data-trackid"):s.attr("data-audiopath"),e={action:"post_stats",post_stats:{action:"play",target_title:s.attr("data-tracktitle"),target_url:e,page_title:sonaar_music.current_page.title,page_url:sonaar_music.current_page.url}},jQuery.post(sonaar_music.ajax_url,e,function(e){})),"function"==typeof gtag&&srp_vars.sonaar_music.ga_tag&&gtag("event","played",{event_category:"[Playlist Played] "+s.attr("data-albumtitle"),event_label:"[Track Played] "+s.attr("data-tracktitle"),non_interaction:!0})),IRON.sonaar.player.classes.dontCountContinuous=!1},3e3)}),jQuery(document).on("click",".iron-audioplayer .playlist .store-list a[download], #sonaar-player .track-store a[download]",function(e){jQuery(document).trigger("sonaarTrackDownload",jQuery(this))}),jQuery(document).on("sonaarTrackDownload",function(e,t){var a;t=$(t).parents("#sonaar-player").length?jQuery(t).parents("#sonaar-player"):jQuery(t).parents("li"),srp_vars.sonaar_music.use_built_in_stats&&(a=""!==t.data("trackid")?t.data("trackid"):t.data("audiopath"),a={action:"post_stats",post_stats:{action:"download",target_title:t.data("tracktitle"),target_url:a,page_title:sonaar_music.current_page.title,page_url:sonaar_music.current_page.url}},jQuery.post(sonaar_music.ajax_url,a,function(e){})),"function"==typeof gtag&&srp_vars.sonaar_music.ga_tag&&(console.log("GA - Download Tracked++"),gtag("event","downloaded",{event_category:"[Playlist Downloads] "+t.attr("data-albumtitle"),event_label:"[Track Download] "+t.attr("data-tracktitle"),non_interaction:!0}))}),jQuery(document).ready(function(){setStickyPlayer(),setIronAudioplayers(),Boolean("true"===sonaar_music.option.enable_continuous_player)&&!$("body").hasClass("wp-admin")?IRON.sonaar.player.preventContinuousUrl()||sr_getCookieSettings():IRON.audioPlayer.stickyEnable&&sr_getCookieVolume(),stickyPlayerFromPageOption(),sr_filterInit(),srp_getParamFromUrl()});let sr_modal_loaded=!1;const closeSvg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><g><rect x="15.5" y="3.3" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.6274 16)" width="2" height="25.5"></rect><rect x="3.3" y="15.5" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -6.6274 16)" width="25.5" height="2"></rect></g></svg>';function sr_setPopUp(){var e;!0!==sr_modal_loaded&&(e='\x3c!-- Modal --\x3e<div id="sonaar-modal" onclick="sr_closePopUp(this);"><div class="sr_popup-dialog"><div class="sr_popup-content"><div class="sr_close" onclick="sr_closePopUp(this)">'+closeSvg+'</div><div class="sr_popup-body"></div></div></div></div><div class="sr_popup-backdrop"></div>',jQuery("body").append(e),sr_modal_loaded=!0)}function sr_popUp(e,t,a=null,s=null,r){srp_wc_loadspinner($(r));e={action:"load_post_by_ajax",id:e,"store-id":t,security:srp_vars.ajax.security};$.post(srp_vars.ajax.ajaxurl,e,function(e){srp_wc_unloadspinner($(r)),e=srp_convertTTMLTime(JSON.parse(e)),$("#sonaar-modal .sr_popup-body").html(e),$("#sonaar-modal").attr("data-track-number",a),$("#sonaar-modal").attr("data-player-id",s),sr_openPopUp()})}function sr_openPopUp(){$(document).keyup(function(e){"Escape"===e.key&&sr_closePopUp()}),$("body").addClass("sr_popup-open"),$("#sonaar-modal, .sr_popup-backdrop").addClass("sr_show")}function sr_closePopUp(e){"sonaar-modal"==$(e).attr("id")&&0!=$(".sr_popup-dialog:hover").length||($("body").removeClass("sr_popup-open"),$("#sonaar-modal, .sr_popup-backdrop").removeClass("sr_show"))}function sr_audioSkipTo(e=30,t=null){IRON.sonaar.player.classes.wavesurferEnable?(IRON.audioPlayer.stickyEnable?IRON.sonaar.player.wavesurfer:t).skip(e):(t=sr_setAudioElementInstance()).currentTime=t.currentTime+e}function srp_toggleLyricsContainer(){$("#srmp3_lyrics_container").hasClass("open")&&($("#srmp3_lyrics_container").toggleClass("open"),$("#srmp3_lyrics_container").toggle())}function sr_setLyricsPlayingContainer(){var e;!0!==sr_lyric_loaded&&(jQuery("body").append('\x3c!-- Lyrics Now Playing --\x3e<div id="srmp3_lyricsplaying_container"></div><div id="srmp3_lyrics_container" style="display:none;"><i class="sricon-close-circle"></i><div class="srmp3_lyrics"></div></div>'),document.getElementById("srmp3_lyricsplaying_container").addEventListener("click",function(){$("#srmp3_lyrics_container").toggle(),$("#srmp3_lyrics_container").toggleClass("open")}),e=$("#srmp3_lyrics_container .srmp3_lyrics")[0],new PerfectScrollbar(e,{wheelSpeed:1,swipeEasing:!0,wheelPropagation:!1,minScrollbarLength:20,suppressScrollX:!0,maxScrollbarLength:100}),$("#srmp3_lyrics_container .srmp3_lyrics").on("scroll",function(){var e;srp_lyricsAreScrolling||($("#srmp3_lyrics_container").hasClass("srp_lyric_unlock")?(e=$("#srmp3_lyrics_container .srmp3_lyrics_read").offset().top-$("#srmp3_lyrics_container").offset().top)<$("#srmp3_lyrics_container").height()&&50<e&&$("#srmp3_lyrics_container").removeClass("srp_lyric_unlock"):$("#srmp3_lyrics_container").addClass("srp_lyric_unlock")),srp_lyricsAreScrolling=!1}),sr_lyric_loaded=!0),$(document).keydown(function(e){27==e.keyCode&&srp_toggleLyricsContainer()}),$("#srmp3_lyrics_container .sricon-close-circle").on("click",function(){srp_toggleLyricsContainer()})}jQuery(".iron-audioplayer .sr-store-popup").on("click",function(){let e=0;const t=this;$(IRON.players).each(function(){this.audioPlayer.id==$(t).parents(".iron-audioplayer").data("id")&&(e=this.audioPlayer.id)}),sr_popUp($(this).data("source-post-id"),$(this).data("store-id"),$(this).parents(".sr-playlist-item").index(),e,$(this))});var sr_lyric_loaded=!1;function sr_loadLyricsAjax(e,t){$(".srmp3_lyrics_title").empty(),$(".srmp3_lyrics_album").empty(),$(".srmp3_lyrics").empty(),$(".srmp3_lyrics").removeClass("srmp3_singning"),$(".srmp3_lyrics_container").empty(),$("#srmp3_lyricsplaying_container").empty(),(void 0!==IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack]&&IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack].has_lyric||$($('.sr-playlist-item[data-post-id="'+e+'"][data-track-pos="'+t+'"]')[0]).attr("data-track-lyric"))&&($("#srmp3_lyricsplaying_container").length||sr_setLyricsPlayingContainer(),album=void 0!==IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack]?(track_title=IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack].track_title,IRON.sonaar.player.list.tracks[IRON.sonaar.player.currentTrack].album_title):(track_title=document.querySelector('.sr-playlist-item[data-post-id="'+e+'"][data-track-pos="'+t+'"]').getAttribute("data-tracktitle"),document.querySelector('.sr-playlist-item[data-post-id="'+e+'"][data-track-pos="'+t+'"]').getAttribute("data-albumtitle")),jQuery(".srmp3_lyrics_album").replaceWith($("<div>",{class:"srmp3_lyrics_album",text:album}).prependTo("#srmp3_lyrics_container")),jQuery(".srmp3_lyrics_title").replaceWith($("<div>",{class:"srmp3_lyrics_title",text:track_title}).prependTo("#srmp3_lyrics_container")),e={action:"load_lyrics_ajax","post-id":e,"track-position":t,security:srp_vars.ajax.security},$.post(srp_vars.ajax.ajaxurl,e,function(e){e=srp_convertTTMLTime(JSON.parse(e)),$(".srmp3_lyrics").html($(e).html())}))}function srp_convertTTMLTime(e){return e=$("<div>"+e+"</div>"),$(e).find("p[begin]").each(function(){var e=$(this).attr("begin"),t=$(this).attr("end"),e=e.split(":"),t=t.split(":");$(this).attr("begin",60*+e[0]*60+60*+e[1]+ +e[2]),$(this).attr("end",60*+t[0]*60+60*+t[1]+ +t[2])}),e}function sr_shuffleToggle(e=0,t=$(".iron-audioplayer.sr_selected")){let a;a=(IRON.audioPlayer.stickyEnable?(IRON.sonaar.player.shuffle?IRON.sonaar.player.shuffle=!1:(IRON.sonaar.player.shuffle=!0,IRON.sonaar.player.setRandomList()),IRON.sonaar.player.classes.continuousPlayer&&sr_setCookieSettings(),IRON.sonaar.player):(t.shuffle?t.shuffle=!1:t.shuffle=!0,t)).shuffle,t.attr("data-shuffle",a)}function sr_setSpeedRate(e=0,t=$(".iron-audioplayer.sr_selected"),a=null){var s,r=[.5,1,1.2,1.5,2];void 0!==sonaar_music.option.playback_speed&&(r=(r=(r=sonaar_music.option.playback_speed.split(",").map(function(e){return e=parseFloat(e,10)})).filter(function(e){return!isNaN(e)})).sort()),(s=IRON.audioPlayer.stickyEnable?IRON.sonaar.player.classes.speedRate:t.attr("data-speedrate"))==r[r.length-1]?s=r[0]:$.each(r,function(){if(s<this)return s=this,!1}),IRON.audioPlayer.stickyEnable?(IRON.sonaar.player.classes.wavesurferEnable?IRON.sonaar.player.wavesurfer.setPlaybackRate(s):document.getElementById("sonaar-audio").playbackRate=s,IRON.sonaar.player.classes.speedRate=s):IRON.sonaar.player.classes.wavesurferEnable?a.setPlaybackRate(s):sr_setAudioElementInstance().playbackRate=s,t.attr("data-speedrate",s),t.find(".sr_speedRate div").html(s+"x")}function sr_setVolume(e,t=null,a){""!=e&&(t&&t.attr("data-volume",e),IRON.audioPlayer.stickyEnable&&(IRON.sonaar.player.volume=e,sr_setCookieVolume()),IRON.sonaar.player.classes.wavesurferEnable?(IRON.audioPlayer.stickyEnable?IRON.sonaar.player.wavesurfer:a).setVolume(e):sr_setAudioElementInstance().volume=e)}function sr_setMute(e,t=null){IRON.sonaar.player.classes.wavesurferEnable?(IRON.audioPlayer.stickyEnable?IRON.sonaar.player.wavesurfer:t).setMute(e):sr_setAudioElementInstance().muted=e,IRON.audioPlayer.stickyEnable&&(IRON.sonaar.player.mute=e,IRON.sonaar.player.classes.continuousPlayer)&&sr_setCookieSettings()}function sr_muteTrigger(e=0,t=$(".iron-audioplayer.sr_selected"),a=null){$(".slider-container:hover").length||(IRON.audioPlayer.stickyEnable&&IRON.sonaar.player.mute||!IRON.audioPlayer.stickyEnable&&"true"==t.attr("data-mute")?(sr_setMute(!1,a),t&&t.attr("data-mute","false")):(sr_setMute(!0,a),t&&t.attr("data-mute","true")))}function sr_initSlider(e,a=null,s=null){e.slider({orientation:"vertical",range:"min",min:0,max:100,value:100,slide:function(e,t){sr_setVolume(t.value/100,a,s),sr_setMute(!1,s)}})}function srp_js_dynamic_style(e){var t=$(e).find(".srp_tracklist-item-date").css("font-size");$(e).find('.sr-playlist-item[data-show-date="1"] .audio-track').css("margin-bottom",t)}function sr_updateSlider(e=0,t=$("#sonaar-player")){let a;a=IRON.audioPlayer.stickyEnable?IRON.sonaar.player.volume:NaN==t.attr("data-volume")?100:t.attr("data-volume"),a=Math.floor(100*a)+"%",t.find(".ui-slider-range").height(a),t.find(".ui-slider-handle ").css("bottom",a)}function sr_setAudioElementInstance(){return IRON.sonaar.player.classes.wavesurferEnable?elementAudio:IRON.audioPlayer.stickyEnable?document.getElementById("sonaar-audio"):document.querySelector(".sr_selectedPlayer audio")}function sonaar_ts_shortcode(e){const t="#sonaar_ts-"+e.ts_id;let s=!0;if(srp_startingTime=e.time,void 0===e.trackid&&(e.trackid=0),$(".srmp3_sonaar_ts_shortcode:not(#sonaar_ts-"+e.ts_id).removeClass("sr_selected audio-playing"),$(t).hasClass("sr_selected")?(s=!1,"true"==e.play_icon&&$(t).hasClass("sr_selected")&&delete e.time):($(".srmp3_sonaar_ts_shortcode ").removeClass("sr_selected"),$(t).addClass("sr_selected"),IRON.audioPlayer.stickyEnable&&(IRON.sonaar.player.selectedTimeStamp=$(t))),$(t).hasClass("audio-playing")?$(t).removeClass("audio-playing"):$(t).addClass("audio-playing"),"true"==e.play_icon){if(IRON.audioPlayer.stickyEnable&&!$(t).hasClass("audio-playing"))return void IRON.sonaar.player.pause();if(!IRON.audioPlayer.stickyEnable&&void 0!==$(t).data("ts-sync")&&!s)return void IRON.players[$(t).data("ts-sync")].play()}if(void 0===e.id){if(void 0!==IRON.players&&0<IRON.players.length){let a=0;if(void 0!==e.widget_id){let t;$("#"+e.widget_id+" .iron-audioplayer").length&&(t=$("#"+e.widget_id+" .iron-audioplayer").data("id")),$("#"+e.widget_id+".iron-audioplayer").length&&(t=$("#"+e.widget_id+".iron-audioplayer").data("id")),$('[data-id="'+e.widget_id+'"] .iron-audioplayer').length&&(t=$('[data-id="'+e.widget_id+'"] .iron-audioplayer').data("id")),$('[data-id="'+e.widget_id+'"].iron-audioplayer').length&&(t=$('[data-id="'+e.widget_id+'"].iron-audioplayer').data("id")),$(IRON.players).each(function(e){IRON.players[e].audioPlayer.data("id")==t&&(a=e)})}else $(IRON.players).each(function(e){IRON.players[e].audioPlayer.offset().top>$(t).offset().top||(a=e)});IRON.players[a].audioPlayer.data("ts-sync",e.ts_id),$(t).data("ts-sync",a);var r=IRON.players[a].audioPlayer.hasClass("audio-playing")&&IRON.players[a].audioPlayer.find(".sr-playlist-item").eq(e.trackid).hasClass("current");return r?srp_startingTime=0:IRON.players[a].audioPlayer.find(".srp_audio_trigger").eq(e.trackid).trigger("click"),void((!IRON.audioPlayer.stickyEnable||IRON.audioPlayer.stickyEnable&&r||!IRON.players[a].audioPlayer.find(".sr-playlist-item").eq(e.trackid).hasClass("current")&&s)&&IRON.players[a].seekTime(e.time))}e.id=srp_vars.sonaar_music.currentPostId}IRON.sonaar.player.setPlayerAndPlay(e)}function srp_variation_button(e){$(e).find("a").length&&(e=$(e).find("a")[0]),srp_wc_variation_popup(void 0!==$(e).data("product_id")?$(e).data("product_id"):$(e).data("source-post-id"),$(e))}function srp_wc_variation_popup(e,t){srp_wc_loadspinner(t),sr_setPopUp();e={action:"load_wc_variation_by_ajax","product-id":e,security:srp_vars.ajax.security};$.post(srp_vars.ajax.ajaxurl,e,function(e){e=JSON.parse(e),$("#sonaar-modal .sr_popup-body").html(e),sr_openPopUp(),srp_wc_unloadspinner(t)})}function srp_add_to_cart_loadspinner(e){srp_wc_loadspinner(e),setInterval(function(){e.hasClass("loading")||(clearInterval(),srp_wc_unloadspinner(e))},5)}function srp_wc_loadspinner(e){var t,a,s,r,i;"track-store"===e.parent().parent().attr("class")?(e.parent().addClass("sricon-spinner"),e.parent().css({width:e.css("width")}),e.css({display:"none"})):(t=e.html(),a=(i=window.getComputedStyle(e.get(0))).backgroundColor,s=i.color,r=i.width,i=i.height,e.data("html",t),e.css("pointer-events","none"),e.css({backgroundColor:a,color:s,width:r,height:i}),"sricon-info"===e.attr("class")&&(e.data("class",e.attr("class")),e.removeClass("sricon-info")),$spinnerWrap=$('<span class="sricon-spinner-wrap"></span>'),$spinner=$('<span class="sricon-spinner"></span>'),$spinnerWrap.html($spinner),e.html($spinnerWrap),startButtonLoaderTimeout=setTimeout(function(){$spinnerWrap.addClass("sricon-spinner-wrap-ready")},5))}function srp_wc_unloadspinner(e){"track-store"===e.parent().parent().attr("class")?(e.parent().removeClass("sricon-spinner"),e.parent().css({width:"initial"}),e.css("display","initial")):("sricon-info"===e.data("class")&&e.addClass(e.data("class")),e.html(e.data("html")),e.css("pointer-events","auto"),e.css({backgroundColor:"",color:"",width:"",height:""}))}function srp_selectVariation(e){$(".srp-modal-product-variation .srp_selected").removeClass("srp_selected"),$(e).addClass("srp_selected"),$('.srp-modal-variation-details[data-variant_id="'+$(e).data("variant_id")+'"]').addClass("srp_selected"),$(".srp-modal-variant-main .srp-modal-variant-price .woocommerce-Price-amount").html($(e).find(".srp-modal-variant-price>.woocommerce-Price-amount").html()),$(".srp-modal-variant-main a.srp_button").attr("href","?add-to-cart="+$(".srp-modal-product-variation").data("product_id")+"&variation_id="+$(e).data("variant_id")),$(".srp-modal-variant-main a.srp_button").attr("data-product_id",$(e).data("variant_id"))}function srp_setTrackListColumns(t){if($(t).hasClass("srp_has_customfields")&&!$(t).hasClass("srp_tracklist_grid")){$(t).find(".playlist").width()<500&&!$(t).hasClass("srp_responsive")?($(t).addClass("srp_responsive"),$(t).find(".sr-playlist-item").each(function(){setColumnCta(this)})):500<=$(t).find(".playlist").width()&&$(t).hasClass("srp_responsive")&&($(t).removeClass("srp_responsive"),$(t).find(".sr-playlist-item").each(function(){setColumnCta(this)}));let r=[];const a=$(t).find('.sr-playlist-item:not([data-relatedtrack="1"]) .srp_noteButton').length?$(t).find('.sr-playlist-item:not([data-relatedtrack="1"]) .srp_noteButton').width():0,i=($(t).find('.sr-playlist-item:not([data-relatedtrack="1"])').each(function(){var e;!a||$(this).find(".srp_info_spacer").length||$(this).find(".srp_noteButton").length||(e=$("<div/>",{class:"srp_info_spacer"}).css("min-width",a),$(this).find(".store-list").after(e))}),$(t).find('.sr-playlist-item:not([data-relatedtrack="1"])').eq(0));i.find(".sr-playlist-cf-child").each(function(t){var e=$(this).data("id");let a=0;for(let e=t;e<i.find(".sr-playlist-cf-child").length;e++){var s=i.find(".sr-playlist-cf-child").length-e-1;i.find(".sr-playlist-cf-child").eq(s).attr("data-width")?a+=parseInt(i.find(".sr-playlist-cf-child").eq(s).attr("data-width"),10)+10:a+=i.find(".sr-playlist-cf-child").eq(s).width()+10}i.find(".sr-playlist-cf-container").width()<a&&r.push(e)}),r=r.filter(function(e,t){return r.indexOf(e)==t}),$(t).find(".sr-cf-heading .srp_sort").each(function(){var e=$(this).data("sort");$(this).index()>$(t).find(".sr-cf-heading .srp_sort").length-r.length?($(t).find("."+e).attr("data-width")||$(t).find("."+e).attr("data-width",$(t).find("."+e).width()),$(this).addClass("srp_hidden"),$(t).find("."+e).addClass("srp_hidden"),srp_setTrackListColumns_headerPosition(t)):($(this).removeClass("srp_hidden"),$(t).find("."+e).removeClass("srp_hidden"))}),srp_setTrackListColumns_headerPosition(t)}}function setColumnCta(r){if($(r).find(".store-list").length&&!$(r).parents(".srp_tracklist_grid").length){const o=parseInt($(r).find(".store-list").css("flex").split(" ")[2],10),l=$(r).find(".store-list");let s=0;var i,n=$(r).parents(".srp_responsive").length?"mobile-width":"width";if(void 0===l.find(".song-store-list-menu").data(n)||$(".elementor-editor-active").length){let e=0,t=!1,a="right: 10px;";$(r).find(".song-store").each(function(){$(this).offset().left<l.offset().left?t=!0:0==e&&t&&(e=$(this).offset().left-l.offset().left,s=Math.ceil(o-e),a="left:"+(e-25)+"px;")}),t?($(r).addClass("srp_extendable"),l.find(".song-store-list-menu").width(s),l.find(".song-store-list-menu").data(n,s+""),i=$("<i/>",{class:"fas fa-ellipsis-h srp_ellipsis",style:"position: absolute; "+a}),l.find(".srp_ellipsis").length?l.find(".srp_ellipsis").replaceWith(i):l.append(i)):l.find(".song-store-list-menu").data(n,"none")}else"none"==l.find(".song-store-list-menu").data(n)?($(r).removeClass("srp_extendable"),l.find(".song-store-list-menu").width("inherit")):($(r).addClass("srp_extendable"),s=parseInt(l.find(".song-store-list-menu").data(n),10),dotsPosition=(s,s+10+"px"),l.find(".song-store-list-menu").width(s),l.find(".srp_ellipsis").css({left:"unset",right:dotsPosition}))}}function srp_setTrackListColumns_headerPosition(r){setTimeout(function(){$(r).find('.sr-playlist-item:not([data-relatedtrack="1"])').each(function(){$(this).find(".sr-playlist-cf-child").each(function(){var e=$(this).data("id"),t=$(this)[0].offsetLeft,a=$(this).width(),s=$(this).parents(".sr-playlist-item").find("."+e).index(this);$(r).find('[data-sort="'+e+'"]').eq(s).css({position:"absolute",left:t+"px",width:a+"px"})})})},60)}function srp_updateURLParameter(a,s=null){if(null!==s){let e="";var r=(n=window.location.href.split("?"))[0],i=void 0!==n[1]?n[1]:"";let t="";if(""!=i)for(var n=i.split("&"),o=0;o<n.length;o++)n[o].split("=")[0]!=a&&(e+=t+n[o],t="&");s=""!=s?encodeURIComponent(a)+"="+encodeURIComponent(s):"",s=t+""+s;(e="&"==(e="&"==(e=""!=(e+=s)?"?"+e:"").charAt(0)?e.substring(1):e).charAt(e.length-1)?e.slice(0,-1):e).replace("?","")!=i&&window.history.pushState(null,"",r+e)}}function srp_removeMeta(e,t=null,a){if(playerNum=null!==srp_convertPlayerIdToPlayerNum(a)?srp_convertPlayerIdToPlayerNum(a):0,void 0!==IRON.players[playerNum].audioPlayer.params){if("search"==e){let e=".srp_search_container:not([data-player-id])";null!=a&&(e='.srp_search_container[data-player-id="'+a+'"]',0==playerNum)&&(e+=", .srp_search_container:not([data-player-id])"),$(e).find(".srp_reset_search").css("display","none"),$(e).each(function(){$(this).find(".srp_search")[0].value=""}),IRON.players[playerNum].audioPlayer.params.search=""}else{var s,r;null==t?(IRON.players[playerNum].audioPlayer.params.meta[e]="",activeBt=$(document).find('.srp_filter_button.srp_filter_button--active[data-metakey="'+e+'"]'),$(activeBt).each(function(){this.classList.remove("srp_filter_button--active"),this.style=null})):void 0!==IRON.players[playerNum].audioPlayer.params.meta[e]&&(-1<(r=(s=IRON.players[playerNum].audioPlayer.params.meta[e].split(",")).indexOf(t))&&s.splice(r,1),IRON.players[playerNum].audioPlayer.params.meta[e]=s.join(","),data_playerId=a?'[data-playerid="'+a+'"]':"",activeBt=$(document).find('.srp_filter_button--active[data-value="'+t+'"]'+data_playerId),$(activeBt).each(function(){this.classList.remove("srp_filter_button--active"),this.style=null}))}srp_updateList(playerNum)}}function srp_addMeta(e,t,a){a=a.replace(",","ii44");var s,r=null!==srp_convertPlayerIdToPlayerNum(e)?srp_convertPlayerIdToPlayerNum(e):0;void 0===IRON.players[r].audioPlayer.params&&(IRON.players[r].audioPlayer.params={}),void 0===IRON.players[r].audioPlayer.params.meta&&(IRON.players[r].audioPlayer.params.meta=!1),!1===IRON.players[r].audioPlayer.params.meta?((s=[])[t]=a,IRON.players[r].audioPlayer.params.meta=s):t in IRON.players[r].audioPlayer.params.meta?IRON.players[r].audioPlayer.params.meta[t].split(",").includes(a)||(IRON.players[r].audioPlayer.params.meta[t]+=","+a):IRON.players[r].audioPlayer.params.meta[t]=a,IRON.players[r].audioPlayer.params.playerId=e,srp_updateList(r)}function srp_setSearchFiltersFromUrl(){var e=new URLSearchParams(document.location.search),t=srp_getPlayerIdParamFromUrl(),a=null!==srp_convertPlayerIdToPlayerNum(t)?srp_convertPlayerIdToPlayerNum(t):0;IRON.players[a].audioPlayer.params={playerId:t,search:e.get("srp_search"),meta:srp_getAllMetaParams()},srp_updateList(a)}function srp_getPlayerIdParamFromUrl(){var e;let t=new URLSearchParams(document.location.search).get("srp_player_id");return null!=t&&t.startsWith("playernum-")&&(e=t.split("playernum-")[1]-1,t=$(".iron-audioplayer").eq(e).attr("id")),t}function srp_getAllMetaParams(){let s=new URLSearchParams(document.location.search).get("srp_meta");if(s){s=(s=s.split(";")).filter((e,t)=>t!=s.indexOf(""));let a=[];return s.map(function(e){var t=e.split(":",1)[0],e=e.replace(t+":","");a[decodeURIComponent(t)]=decodeURIComponent(e)}),a}return!1}function srp_getMetaParams(e){let t=srp_getAllMetaParams();return void 0!==(t=t[e])?t=(t=t.split(",")).map(e=>e.replace("ii44",",")):null}function srp_insertChips(e=0){var t="object"==typeof IRON.players[e].audioPlayer.params.meta?IRON.players[e].audioPlayer.params.meta:[];let a=".srp_chips:not([data-player-id])",s=a,r=void 0!==IRON.players[e].audioPlayer.params.playerId?IRON.players[e].audioPlayer.params.playerId:null;null!==r&&$('.srp_chips[data-player-id="'+IRON.players[e].audioPlayer.params.playerId+'"]').length&&(a='.srp_chips[data-player-id="'+IRON.players[e].audioPlayer.params.playerId+'"]',s=a,0==e)&&(s+=", .srp_chips:not([data-player-id])"),$(s).find(".srp_chip").remove(),null!=IRON.players[e].audioPlayer.params.search&&(t.search=IRON.players[e].audioPlayer.params.search),updateFilterSelector(t,r);for(const o in t){const l=t[o].split(",");var i=$('[data-metakey="'+o+'"]').data("label"),n=void 0!==IRON.players[e]?IRON.players[e].audioPlayer.id:null;for(const d in l)""!=l[d]&&(l[d]=l[d].replace("ii44",","),chip=$("<div/>",{class:"srp_chip",data:{meta:o,playerid:n},html:i+": "+l[d]+'<i class="sricon-close-circle"></i>'}),$(chip).on("click",function(){srp_removeMeta($(this).data("meta"),l[d],r)}),$(chip).appendTo(a))}}function srp_updateList(t){if(void 0!==IRON.players[t].audioPlayer.params){let e=IRON.players[t].audioPlayer.params.playerId;if(void 0!==IRON.players[t].audioPlayer.params.playerId?(target_playerId=IRON.players[t].audioPlayer.params.playerId,srp_updateURLParameter("srp_player_id",e=null!=e&&e.startsWith("arbitrary-instance-")?"playernum-"+(parseInt(t,10)+1):e)):(target_playerId=null,srp_updateURLParameter("srp_player_id","")),void 0!==IRON.players[t].audioPlayer.orderedList&&void 0!==IRON.players[t].audioPlayer.params.search?(srp_updateURLParameter("srp_search",IRON.players[t].audioPlayer.params.search),(searchDiv=target_playerId?target_playerId.startsWith("arbitrary-instance-")?$(document).find("#"+target_playerId+" .srp_search"):$(document).find(".srp_search_container[data-player-id="+target_playerId+"] .srp_search"):$(document).find(".srp_search_container:not([data-player-id]) .srp_search")).val(IRON.players[t].audioPlayer.params.search),IRON.players[t].audioPlayer.orderedList.search(IRON.players[t].audioPlayer.params.search)):srp_updateURLParameter("srp_search",""),"object"==typeof IRON.players[t].audioPlayer.params.meta){var a=IRON.players[t].audioPlayer.params.meta;let e="";for(const r in a)if(""!=a[r])for(value in e+=r+":"+a[r]+";",metaValues=a[r].split(","))(activeBt=document.querySelectorAll('.srp_filter_button[data-metakey="'+r+'"][data-value="'+metaValues[value]+'"][data-playerid="'+target_playerId+'"]')).forEach(function(e){e.classList.add("srp_filter_button--active"),e.style.backgroundColor=e.dataset.color,e.style.borderColor=e.dataset.color});else delete IRON.players[t].audioPlayer.params.meta[r];if(srp_updateURLParameter("srp_meta",e),void 0!==IRON.players[t].audioPlayer.orderedList){var s;let o=[];for(const i in a)s=srp_addPrefixToParams(i),o[s]=a[i];IRON.players[t].audioPlayer.orderedList.filter(function(a){var s=!0;for(const i in o)if(void 0!==a.values()[i]){let e=o[i].split(",");e=e.map(e=>e.toLowerCase().replace("ii44",","));var r=a.values()[i].toLowerCase().split(", ");let t=!1;for(const n in r)e.includes(srp_decodeHTMLEntities(r[n]))&&!t&&(t=!0);t||(s=!1)}return s})}}srp_insertChips(t)}}function srp_addPrefixToParams(e){switch(e){case"title":return"tracklist-item-title";case"description":return"srp_track_description";case"time":return"tracklist-item-time";default:return"sr-playlist-cf--"+e}}function srp_scrollToTrackListTop(e){var t=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset+-30;window.scrollTo({top:t,behavior:"smooth"}),$("#"+e).find(".srp_list").addClass("srp_contentLoading"),setTimeout(function(){$("#"+e).find(".srp_list").removeClass("srp_contentLoading")},1e3)}function srp_decodeHTMLEntities(e){return e.replace("&amp;","&").replace("&gt;",">").replace("&lt;","<").replace("&quot;",'"')}function srp_convertPlayerIdToPlayerNum(e,t=null){let a=null,s=null;if(null!==e&&""!==e&&($("#"+e+".iron-audioplayer").length?a=$("#"+e+".iron-audioplayer"):$("#"+e+" .iron-audioplayer").length&&(a=$("#"+e+" .iron-audioplayer"))),null!==a)if(null===t)for(const r in IRON.players)a.data("id")==IRON.players[r].audioPlayer.data("id")&&(s=r);else a.data("id")==IRON.players[t].audioPlayer.data("id")&&(s=t);return s}function srp_getParamFromUrl(){var e=new URLSearchParams(document.location.search),t={};e.get("ts_post_id")&&(t.id=e.get("ts_post_id")),e.get("ts_time")&&(t.time=e.get("ts_time")),e.get("ts_track_num")&&(t.trackid=e.get("ts_track_num")-1),Object.keys(t).length&&void 0!==t.id&&sonaar_ts_shortcode(t)}function srp_setPlayerParamUrl(){var e;return void 0!==IRON.sonaar.player.currentTime&&""!=IRON.sonaar.player.currentTime&&(e=new URLSearchParams({ts_post_id:IRON.sonaar.player.elWidgetId?IRON.sonaar.player.postId:IRON.sonaar.player.playlistID.toString().split(", "),ts_track_num:IRON.sonaar.player.currentTrack+1,ts_time:IRON.sonaar.player.currentTime}).toString(),window.location.origin+window.location.pathname+"?"+e)}$(document.body).on("click",".view-license-button",function(t){sr_setPopUp(),srp_wc_loadspinner($(t.target));var e={action:"load_license_preview_ajax",variationId:t.currentTarget.getAttribute("data-variation-id"),licenseId:t.currentTarget.getAttribute("data-license-id"),productName:t.currentTarget.getAttribute("data-product-name"),security:srp_vars.ajax.security};$.post(srp_vars.ajax.ajaxurl,e,function(e){$("#sonaar-modal .sr_popup-body").html(e),sr_openPopUp(),srp_wc_unloadspinner($(t.target))})}),$(".srp_wc_variation_button").on("click",function(){return srp_variation_button(this),!1}),$(".iron-audioplayer .playlist .ajax_add_to_cart").on("click",function(){srp_add_to_cart_loadspinner($(this))});